- test_name: 'Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"ZRmBY","DClocation":"GUVnd","EAN":"jykHg","StockCategoryCode":"CQhXoK","StockDate":"1907-01-17T21:02:22Z","AvailableQuantity":"5","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"10","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"10","BlockedQuantity":"7","ReservedQuantity":"3","InspectionQuantity":"8","StockLevelInd":"sBMgnBrIN","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"YbLfnQW","Season":"MYPpP","Brand":"JGZCZx","Size":"XBXfIVp","Width":"KEADOIJgos","JobDateTimeStamp":"1951-12-13T02:38:02Z","BatchJobStepName":"kWDCFIm"},{"Company":"ucPAq","DClocation":"JihGu","EAN":"qSkjQ","StockCategoryCode":"twwZEdI","StockDate":"1994-07-31T05:24:36Z","AvailableQuantity":"3","OnPOOrderQuantity":"9","InTransitQuantity":"9","TransferQuantity":"3","OnSOQuantity":"5","OnDeliveryQuantity":"6","PackedQuantity":"6","BlockedQuantity":"3","ReservedQuantity":"3","InspectionQuantity":"2","StockLevelInd":"UgPQ","PAPQuantity":"3","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"3","Material":"AZmdqeNYs","Season":"ngVVlDU","Brand":"yeoMHsz","Size":"MrothSe","Width":"fSVIBC","JobDateTimeStamp":"2009-02-28T00:39:41Z","BatchJobStepName":"gxuhcYuKYp"}]'
  - '{"Test":[{"Company":"bkbbJPMit","DClocation":"lnwQQ","EAN":"fpPF","StockCategoryCode":"wiqRlCzoye","StockDate":"1914-10-25T20:15:22Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"4","TransferQuantity":"10","OnSOQuantity":"2","OnDeliveryQuantity":"6","PackedQuantity":"10","BlockedQuantity":"8","ReservedQuantity":"7","InspectionQuantity":"4","StockLevelInd":"AtvPKnh","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"iwbTGuVuW","Season":"YBeyBFh","Brand":"jNznchdLy","Size":"UbdKpvyMX","Width":"NUiIXWSJ","JobDateTimeStamp":"1944-07-05T20:28:32Z","BatchJobStepName":"VuobgFah"},{"Company":"AIooYqCGLh","DClocation":"fJxcgb","EAN":"OpMQX","StockCategoryCode":"uMsBCxC","StockDate":"1975-03-26T02:21:14Z","AvailableQuantity":"6","OnPOOrderQuantity":"6","InTransitQuantity":"1","TransferQuantity":"6","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"9","InspectionQuantity":"8","StockLevelInd":"ycxG","PAPQuantity":"1","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"Xfzstdpa","Season":"vakchLf","Brand":"RzsNOb","Size":"gkgbpIEx","Width":"AZuhve","JobDateTimeStamp":"1994-03-28T09:00:01Z","BatchJobStepName":"EAlusvVsc"}]}'
  - '{"Test":[{"Company":"cFfox","DClocation":"IzvHvcAY","EAN":"lTiSsTO","StockCategoryCode":"KkHvXoN","StockDate":"1977-06-07T04:55:40Z","AvailableQuantity":"6","OnPOOrderQuantity":"8","InTransitQuantity":"2","TransferQuantity":"1","OnSOQuantity":"10","OnDeliveryQuantity":"4","PackedQuantity":"5","BlockedQuantity":"6","ReservedQuantity":"10","InspectionQuantity":"1","StockLevelInd":"nlAiIq","PAPQuantity":"10","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"imOWFDeQl","Season":"aQuvs","Brand":"aswrOcr","Size":"GZXejoR","Width":"QPTuPthy","JobDateTimeStamp":"1970-09-27T07:57:06Z","BatchJobStepName":"uJDhH"},{"Company":"NFEodQ","DClocation":"muSPLXbaL","EAN":"IErm","StockCategoryCode":"dazfpUdRaz","StockDate":"1969-06-26T19:36:45Z","AvailableQuantity":"4","OnPOOrderQuantity":"6","InTransitQuantity":"10","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"9","PackedQuantity":"10","BlockedQuantity":"4","ReservedQuantity":"2","InspectionQuantity":"8","StockLevelInd":"XXaJP","PAPQuantity":"9","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"IOnWu","Season":"hVtqEsBw","Brand":"HYArFK","Size":"SahVgjcN","Width":"SqvOeGFsO","JobDateTimeStamp":"1960-10-23T07:06:34Z","BatchJobStepName":"CcCUAhHyl"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"ZRmBY","DClocation":"GUVnd","EAN":"jykHg","StockCategoryCode":"CQhXoK","StockDate":"1907-01-17T21:02:22Z","AvailableQuantity":"5","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"10","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"10","BlockedQuantity":"7","ReservedQuantity":"3","InspectionQuantity":"8","StockLevelInd":"sBMgnBrIN","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"YbLfnQW","Season":"MYPpP","Brand":"JGZCZx","Size":"XBXfIVp","Width":"KEADOIJgos","JobDateTimeStamp":"1951-12-13T02:38:02Z","BatchJobStepName":"kWDCFIm"},{"Company":"ucPAq","DClocation":"JihGu","EAN":"qSkjQ","StockCategoryCode":"twwZEdI","StockDate":"1994-07-31T05:24:36Z","AvailableQuantity":"3","OnPOOrderQuantity":"9","InTransitQuantity":"9","TransferQuantity":"3","OnSOQuantity":"5","OnDeliveryQuantity":"6","PackedQuantity":"6","BlockedQuantity":"3","ReservedQuantity":"3","InspectionQuantity":"2","StockLevelInd":"UgPQ","PAPQuantity":"3","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"3","Material":"AZmdqeNYs","Season":"ngVVlDU","Brand":"yeoMHsz","Size":"MrothSe","Width":"fSVIBC","JobDateTimeStamp":"2009-02-28T00:39:41Z","BatchJobStepName":"gxuhcYuKYp"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"bkbbJPMit","DClocation":"lnwQQ","EAN":"fpPF","StockCategoryCode":"wiqRlCzoye","StockDate":"1914-10-25T20:15:22Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"4","TransferQuantity":"10","OnSOQuantity":"2","OnDeliveryQuantity":"6","PackedQuantity":"10","BlockedQuantity":"8","ReservedQuantity":"7","InspectionQuantity":"4","StockLevelInd":"AtvPKnh","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"iwbTGuVuW","Season":"YBeyBFh","Brand":"jNznchdLy","Size":"UbdKpvyMX","Width":"NUiIXWSJ","JobDateTimeStamp":"1944-07-05T20:28:32Z","BatchJobStepName":"VuobgFah"},{"Company":"AIooYqCGLh","DClocation":"fJxcgb","EAN":"OpMQX","StockCategoryCode":"uMsBCxC","StockDate":"1975-03-26T02:21:14Z","AvailableQuantity":"6","OnPOOrderQuantity":"6","InTransitQuantity":"1","TransferQuantity":"6","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"9","InspectionQuantity":"8","StockLevelInd":"ycxG","PAPQuantity":"1","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"Xfzstdpa","Season":"vakchLf","Brand":"RzsNOb","Size":"gkgbpIEx","Width":"AZuhve","JobDateTimeStamp":"1994-03-28T09:00:01Z","BatchJobStepName":"EAlusvVsc"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"cFfox","DClocation":"IzvHvcAY","EAN":"lTiSsTO","StockCategoryCode":"KkHvXoN","StockDate":"1977-06-07T04:55:40Z","AvailableQuantity":"6","OnPOOrderQuantity":"8","InTransitQuantity":"2","TransferQuantity":"1","OnSOQuantity":"10","OnDeliveryQuantity":"4","PackedQuantity":"5","BlockedQuantity":"6","ReservedQuantity":"10","InspectionQuantity":"1","StockLevelInd":"nlAiIq","PAPQuantity":"10","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"imOWFDeQl","Season":"aQuvs","Brand":"aswrOcr","Size":"GZXejoR","Width":"QPTuPthy","JobDateTimeStamp":"1970-09-27T07:57:06Z","BatchJobStepName":"uJDhH"},{"Company":"NFEodQ","DClocation":"muSPLXbaL","EAN":"IErm","StockCategoryCode":"dazfpUdRaz","StockDate":"1969-06-26T19:36:45Z","AvailableQuantity":"4","OnPOOrderQuantity":"6","InTransitQuantity":"10","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"9","PackedQuantity":"10","BlockedQuantity":"4","ReservedQuantity":"2","InspectionQuantity":"8","StockLevelInd":"XXaJP","PAPQuantity":"9","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"1","Material":"IOnWu","Season":"hVtqEsBw","Brand":"HYArFK","Size":"SahVgjcN","Width":"SqvOeGFsO","JobDateTimeStamp":"1960-10-23T07:06:34Z","BatchJobStepName":"CcCUAhHyl"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1907-01-17 21:02:22 +0000 UTC-jykHg-ZRmBY-GUVnd
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 1994-07-31 05:24:36 +0000 UTC-qSkjQ-ucPAq-JihGu
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1907-01-17T21:02:22Z","EAN":"jykHg","Company":"ZRmBY","DClocation":"GUVnd","StockCategoryCode":"CQhXoK","AvailableQuantity":5,"OnPOOrderQuantity":10,"InTransitQuantity":9,"TransferQuantity":10,"OnSOQuantity":8,"OnDeliveryQuantity":8,"PackedQuantity":10,"BlockedQuantity":7,"ReservedQuantity":3,"InspectionQuantity":8,"StockLevelInd":"sBMgnBrIN","PAPQuantity":7,"PAPInTransitQuantity":6,"OpenOnSalesOrderQuantity":1,"Material":"YbLfnQW","Season":"MYPpP","Brand":"JGZCZx","Size":"XBXfIVp","Width":"KEADOIJgos","JobDateTimeStamp":"1951-12-13T02:38:02Z","BatchJobStepName":"kWDCFIm","DocType":""}'
      - '{"StockDate":"1994-07-31T05:24:36Z","EAN":"qSkjQ","Company":"ucPAq","DClocation":"JihGu","StockCategoryCode":"twwZEdI","AvailableQuantity":3,"OnPOOrderQuantity":9,"InTransitQuantity":9,"TransferQuantity":3,"OnSOQuantity":5,"OnDeliveryQuantity":6,"PackedQuantity":6,"BlockedQuantity":3,"ReservedQuantity":3,"InspectionQuantity":2,"StockLevelInd":"UgPQ","PAPQuantity":3,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":3,"Material":"AZmdqeNYs","Season":"ngVVlDU","Brand":"yeoMHsz","Size":"MrothSe","Width":"fSVIBC","JobDateTimeStamp":"2009-02-28T00:39:41Z","BatchJobStepName":"gxuhcYuKYp","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6IlpSbUJZIiwiRENsb2NhdGlvbiI6IkdVVm5kIiwiRUFOIjoianlrSGciLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkNRaFhvSyIsIlN0b2NrRGF0ZSI6IjE5MDctMDEtMTdUMjE6MDI6MjJaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI1IiwiT25QT09yZGVyUXVhbnRpdHkiOiIxMCIsIkluVHJhbnNpdFF1YW50aXR5IjoiOSIsIlRyYW5zZmVyUXVhbnRpdHkiOiIxMCIsIk9uU09RdWFudGl0eSI6IjgiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI4IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjciLCJSZXNlcnZlZFF1YW50aXR5IjoiMyIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjgiLCJTdG9ja0xldmVsSW5kIjoic0JNZ25CcklOIiwiUEFQUXVhbnRpdHkiOiI3IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI2IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMSIsIk1hdGVyaWFsIjoiWWJMZm5RVyIsIlNlYXNvbiI6Ik1ZUHBQIiwiQnJhbmQiOiJKR1pDWngiLCJTaXplIjoiWEJYZklWcCIsIldpZHRoIjoiS0VBRE9JSmdvcyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTUxLTEyLTEzVDAyOjM4OjAyWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJrV0RDRkltIn0seyJDb21wYW55IjoidWNQQXEiLCJEQ2xvY2F0aW9uIjoiSmloR3UiLCJFQU4iOiJxU2tqUSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoidHd3WkVkSSIsIlN0b2NrRGF0ZSI6IjE5OTQtMDctMzFUMDU6MjQ6MzZaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiI5IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI5IiwiVHJhbnNmZXJRdWFudGl0eSI6IjMiLCJPblNPUXVhbnRpdHkiOiI1IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNiIsIlBhY2tlZFF1YW50aXR5IjoiNiIsIkJsb2NrZWRRdWFudGl0eSI6IjMiLCJSZXNlcnZlZFF1YW50aXR5IjoiMyIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoiVWdQUSIsIlBBUFF1YW50aXR5IjoiMyIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiMSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjMiLCJNYXRlcmlhbCI6IkFabWRxZU5ZcyIsIlNlYXNvbiI6Im5nVlZsRFUiLCJCcmFuZCI6Inllb01Ic3oiLCJTaXplIjoiTXJvdGhTZSIsIldpZHRoIjoiZlNWSUJDIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjIwMDktMDItMjhUMDA6Mzk6NDFaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6Imd4dWhjWXVLWXAifV0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1907-01-17T21:02:22Z","EAN":"jykHg","Company":"ZRmBY","DClocation":"GUVnd","StockCategoryCode":"CQhXoK","AvailableQuantity":5,"OnPOOrderQuantity":10,"InTransitQuantity":9,"TransferQuantity":10,"OnSOQuantity":8,"OnDeliveryQuantity":8,"PackedQuantity":10,"BlockedQuantity":7,"ReservedQuantity":3,"InspectionQuantity":8,"StockLevelInd":"sBMgnBrIN","PAPQuantity":7,"PAPInTransitQuantity":6,"OpenOnSalesOrderQuantity":1,"Material":"YbLfnQW","Season":"MYPpP","Brand":"JGZCZx","Size":"XBXfIVp","Width":"KEADOIJgos","JobDateTimeStamp":"1951-12-13T02:38:02Z","BatchJobStepName":"kWDCFIm","DocType":""},{"StockDate":"1994-07-31T05:24:36Z","EAN":"qSkjQ","Company":"ucPAq","DClocation":"JihGu","StockCategoryCode":"twwZEdI","AvailableQuantity":3,"OnPOOrderQuantity":9,"InTransitQuantity":9,"TransferQuantity":3,"OnSOQuantity":5,"OnDeliveryQuantity":6,"PackedQuantity":6,"BlockedQuantity":3,"ReservedQuantity":3,"InspectionQuantity":2,"StockLevelInd":"UgPQ","PAPQuantity":3,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":3,"Material":"AZmdqeNYs","Season":"ngVVlDU","Brand":"yeoMHsz","Size":"MrothSe","Width":"fSVIBC","JobDateTimeStamp":"2009-02-28T00:39:41Z","BatchJobStepName":"gxuhcYuKYp","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiYmtiYkpQTWl0IiwiRENsb2NhdGlvbiI6Imxud1FRIiwiRUFOIjoiZnBQRiIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoid2lxUmxDem95ZSIsIlN0b2NrRGF0ZSI6IjE5MTQtMTAtMjVUMjA6MTU6MjJaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiNyIsIkluVHJhbnNpdFF1YW50aXR5IjoiNCIsIlRyYW5zZmVyUXVhbnRpdHkiOiIxMCIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI2IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjgiLCJSZXNlcnZlZFF1YW50aXR5IjoiNyIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjQiLCJTdG9ja0xldmVsSW5kIjoiQXR2UEtuaCIsIlBBUFF1YW50aXR5IjoiNSIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjMiLCJNYXRlcmlhbCI6Iml3YlRHdVZ1VyIsIlNlYXNvbiI6IllCZXlCRmgiLCJCcmFuZCI6ImpOem5jaGRMeSIsIlNpemUiOiJVYmRLcHZ5TVgiLCJXaWR0aCI6Ik5VaUlYV1NKIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5NDQtMDctMDVUMjA6Mjg6MzJaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IlZ1b2JnRmFoIn0seyJDb21wYW55IjoiQUlvb1lxQ0dMaCIsIkRDbG9jYXRpb24iOiJmSnhjZ2IiLCJFQU4iOiJPcE1RWCIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoidU1zQkN4QyIsIlN0b2NrRGF0ZSI6IjE5NzUtMDMtMjZUMDI6MjE6MTRaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI2IiwiT25QT09yZGVyUXVhbnRpdHkiOiI2IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIxIiwiVHJhbnNmZXJRdWFudGl0eSI6IjYiLCJPblNPUXVhbnRpdHkiOiIyIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiMTAiLCJQYWNrZWRRdWFudGl0eSI6IjQiLCJCbG9ja2VkUXVhbnRpdHkiOiI5IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjkiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI4IiwiU3RvY2tMZXZlbEluZCI6InljeEciLCJQQVBRdWFudGl0eSI6IjEiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjYiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxIiwiTWF0ZXJpYWwiOiJYZnpzdGRwYSIsIlNlYXNvbiI6InZha2NoTGYiLCJCcmFuZCI6IlJ6c05PYiIsIlNpemUiOiJna2dicElFeCIsIldpZHRoIjoiQVp1aHZlIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5OTQtMDMtMjhUMDk6MDA6MDFaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkVBbHVzdlZzYyJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiY0Zmb3giLCJEQ2xvY2F0aW9uIjoiSXp2SHZjQVkiLCJFQU4iOiJsVGlTc1RPIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJLa0h2WG9OIiwiU3RvY2tEYXRlIjoiMTk3Ny0wNi0wN1QwNDo1NTo0MFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjIiLCJUcmFuc2ZlclF1YW50aXR5IjoiMSIsIk9uU09RdWFudGl0eSI6IjEwIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNCIsIlBhY2tlZFF1YW50aXR5IjoiNSIsIkJsb2NrZWRRdWFudGl0eSI6IjYiLCJSZXNlcnZlZFF1YW50aXR5IjoiMTAiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIxIiwiU3RvY2tMZXZlbEluZCI6Im5sQWlJcSIsIlBBUFF1YW50aXR5IjoiMTAiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxMCIsIk1hdGVyaWFsIjoiaW1PV0ZEZVFsIiwiU2Vhc29uIjoiYVF1dnMiLCJCcmFuZCI6ImFzd3JPY3IiLCJTaXplIjoiR1pYZWpvUiIsIldpZHRoIjoiUVBUdVB0aHkiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk3MC0wOS0yN1QwNzo1NzowNloiLCJCYXRjaEpvYlN0ZXBOYW1lIjoidUpEaEgifSx7IkNvbXBhbnkiOiJORkVvZFEiLCJEQ2xvY2F0aW9uIjoibXVTUExYYmFMIiwiRUFOIjoiSUVybSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiZGF6ZnBVZFJheiIsIlN0b2NrRGF0ZSI6IjE5NjktMDYtMjZUMTk6MzY6NDVaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI0IiwiT25QT09yZGVyUXVhbnRpdHkiOiI2IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIxMCIsIlRyYW5zZmVyUXVhbnRpdHkiOiIxMCIsIk9uU09RdWFudGl0eSI6IjUiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI5IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjQiLCJSZXNlcnZlZFF1YW50aXR5IjoiMiIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjgiLCJTdG9ja0xldmVsSW5kIjoiWFhhSlAiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjYiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxIiwiTWF0ZXJpYWwiOiJJT25XdSIsIlNlYXNvbiI6ImhWdHFFc0J3IiwiQnJhbmQiOiJIWUFyRksiLCJTaXplIjoiU2FoVmdqY04iLCJXaWR0aCI6IlNxdk9lR0ZzTyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTYwLTEwLTIzVDA3OjA2OjM0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJDY0NVQWhIeWwifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Uploader - UploadFile : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"pvAb","DClocation":"lYqS","EAN":"Xqtx","StockCategoryCode":"Gxej","StockDate":"1917-07-21T22:16:17Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"9","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"2","PackedQuantity":"10","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"3","StockLevelInd":"fDcbO","PAPQuantity":"6","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"8","Material":"OgKDEYx","Season":"AlXP","Brand":"DIYsTPmvIG","Size":"KlsQZR","Width":"JGIQKuinph","JobDateTimeStamp":"1936-02-20T01:42:02Z","BatchJobStepName":"DuuUATCWy"},{"Company":"OEVqHZFjjB","DClocation":"XxYdxtls","EAN":"ftllqrl","StockCategoryCode":"oVoO","StockDate":"1924-05-13T16:13:09Z","AvailableQuantity":"2","OnPOOrderQuantity":"1","InTransitQuantity":"6","TransferQuantity":"7","OnSOQuantity":"3","OnDeliveryQuantity":"6","PackedQuantity":"9","BlockedQuantity":"8","ReservedQuantity":"3","InspectionQuantity":"4","StockLevelInd":"QqktDKWwUk","PAPQuantity":"8","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"2","Material":"QZqJSth","Season":"JZSalL","Brand":"AgioXXq","Size":"zDhzI","Width":"MPAMnrhw","JobDateTimeStamp":"1950-09-21T20:39:46Z","BatchJobStepName":"nmUVEe"}]'
  - '{"Test":[{"Company":"glxYJ","DClocation":"cjciCLJdI","EAN":"RzuRqUzjXb","StockCategoryCode":"riVAGUVZC","StockDate":"2011-12-06T00:52:30Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"3","OnSOQuantity":"10","OnDeliveryQuantity":"7","PackedQuantity":"8","BlockedQuantity":"8","ReservedQuantity":"10","InspectionQuantity":"3","StockLevelInd":"fMyO","PAPQuantity":"6","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"10","Material":"MDJUPA","Season":"WkyV","Brand":"HzhzOC","Size":"aBpUX","Width":"QPtGYC","JobDateTimeStamp":"2014-05-01T19:43:19Z","BatchJobStepName":"jfRT"},{"Company":"RoIma","DClocation":"MGfy","EAN":"EWBv","StockCategoryCode":"lAZdF","StockDate":"1994-12-13T23:40:38Z","AvailableQuantity":"1","OnPOOrderQuantity":"4","InTransitQuantity":"8","TransferQuantity":"6","OnSOQuantity":"7","OnDeliveryQuantity":"1","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"3","InspectionQuantity":"5","StockLevelInd":"KhIWI","PAPQuantity":"2","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"1","Material":"qCZTK","Season":"HhLN","Brand":"HIIAyxELp","Size":"LMyHk","Width":"ayJKcju","JobDateTimeStamp":"1978-12-23T08:24:11Z","BatchJobStepName":"huNcx"}]}'
  - '{"Test":[{"Company":"dnyVl","DClocation":"YtMcT","EAN":"UDyZbTCu","StockCategoryCode":"bVsKEtBc","StockDate":"1955-11-19T19:40:29Z","AvailableQuantity":"9","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"3","OnSOQuantity":"7","OnDeliveryQuantity":"4","PackedQuantity":"10","BlockedQuantity":"9","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"JHHuVNI","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"6","Material":"ucDay","Season":"wVUKJ","Brand":"cJCxmDxT","Size":"cmFzSl","Width":"MgRXs","JobDateTimeStamp":"1988-04-14T21:13:38Z","BatchJobStepName":"hjpnwh"},{"Company":"qEcgWGVOs","DClocation":"zodzNjum","EAN":"TxodEoP","StockCategoryCode":"KYAAjeGeT","StockDate":"1992-03-22T11:26:45Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"7","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"3","BlockedQuantity":"1","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"kMHHjif","PAPQuantity":"1","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"1","Material":"yGOvvTlpp","Season":"YBoYD","Brand":"fFHCmK","Size":"YrWC","Width":"DPRREimY","JobDateTimeStamp":"1912-07-15T10:54:29Z","BatchJobStepName":"DHIpoR"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"pvAb","DClocation":"lYqS","EAN":"Xqtx","StockCategoryCode":"Gxej","StockDate":"1917-07-21T22:16:17Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"9","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"2","PackedQuantity":"10","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"3","StockLevelInd":"fDcbO","PAPQuantity":"6","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"8","Material":"OgKDEYx","Season":"AlXP","Brand":"DIYsTPmvIG","Size":"KlsQZR","Width":"JGIQKuinph","JobDateTimeStamp":"1936-02-20T01:42:02Z","BatchJobStepName":"DuuUATCWy"},{"Company":"OEVqHZFjjB","DClocation":"XxYdxtls","EAN":"ftllqrl","StockCategoryCode":"oVoO","StockDate":"1924-05-13T16:13:09Z","AvailableQuantity":"2","OnPOOrderQuantity":"1","InTransitQuantity":"6","TransferQuantity":"7","OnSOQuantity":"3","OnDeliveryQuantity":"6","PackedQuantity":"9","BlockedQuantity":"8","ReservedQuantity":"3","InspectionQuantity":"4","StockLevelInd":"QqktDKWwUk","PAPQuantity":"8","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"2","Material":"QZqJSth","Season":"JZSalL","Brand":"AgioXXq","Size":"zDhzI","Width":"MPAMnrhw","JobDateTimeStamp":"1950-09-21T20:39:46Z","BatchJobStepName":"nmUVEe"}]'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"glxYJ","DClocation":"cjciCLJdI","EAN":"RzuRqUzjXb","StockCategoryCode":"riVAGUVZC","StockDate":"2011-12-06T00:52:30Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"3","OnSOQuantity":"10","OnDeliveryQuantity":"7","PackedQuantity":"8","BlockedQuantity":"8","ReservedQuantity":"10","InspectionQuantity":"3","StockLevelInd":"fMyO","PAPQuantity":"6","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"10","Material":"MDJUPA","Season":"WkyV","Brand":"HzhzOC","Size":"aBpUX","Width":"QPtGYC","JobDateTimeStamp":"2014-05-01T19:43:19Z","BatchJobStepName":"jfRT"},{"Company":"RoIma","DClocation":"MGfy","EAN":"EWBv","StockCategoryCode":"lAZdF","StockDate":"1994-12-13T23:40:38Z","AvailableQuantity":"1","OnPOOrderQuantity":"4","InTransitQuantity":"8","TransferQuantity":"6","OnSOQuantity":"7","OnDeliveryQuantity":"1","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"3","InspectionQuantity":"5","StockLevelInd":"KhIWI","PAPQuantity":"2","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"1","Material":"qCZTK","Season":"HhLN","Brand":"HIIAyxELp","Size":"LMyHk","Width":"ayJKcju","JobDateTimeStamp":"1978-12-23T08:24:11Z","BatchJobStepName":"huNcx"}]}'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"dnyVl","DClocation":"YtMcT","EAN":"UDyZbTCu","StockCategoryCode":"bVsKEtBc","StockDate":"1955-11-19T19:40:29Z","AvailableQuantity":"9","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"3","OnSOQuantity":"7","OnDeliveryQuantity":"4","PackedQuantity":"10","BlockedQuantity":"9","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"JHHuVNI","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"6","Material":"ucDay","Season":"wVUKJ","Brand":"cJCxmDxT","Size":"cmFzSl","Width":"MgRXs","JobDateTimeStamp":"1988-04-14T21:13:38Z","BatchJobStepName":"hjpnwh"},{"Company":"qEcgWGVOs","DClocation":"zodzNjum","EAN":"TxodEoP","StockCategoryCode":"KYAAjeGeT","StockDate":"1992-03-22T11:26:45Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"7","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"3","BlockedQuantity":"1","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"kMHHjif","PAPQuantity":"1","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"1","Material":"yGOvvTlpp","Season":"YBoYD","Brand":"fFHCmK","Size":"YrWC","Width":"DPRREimY","JobDateTimeStamp":"1912-07-15T10:54:29Z","BatchJobStepName":"DHIpoR"}]}'
      expect_error: failed to upload
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1917-07-21 22:16:17 +0000 UTC-Xqtx-pvAb-lYqS
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 1924-05-13 16:13:09 +0000 UTC-ftllqrl-OEVqHZFjjB-XxYdxtls
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1917-07-21T22:16:17Z","EAN":"Xqtx","Company":"pvAb","DClocation":"lYqS","StockCategoryCode":"Gxej","AvailableQuantity":3,"OnPOOrderQuantity":4,"InTransitQuantity":9,"TransferQuantity":10,"OnSOQuantity":5,"OnDeliveryQuantity":2,"PackedQuantity":10,"BlockedQuantity":3,"ReservedQuantity":8,"InspectionQuantity":3,"StockLevelInd":"fDcbO","PAPQuantity":6,"PAPInTransitQuantity":4,"OpenOnSalesOrderQuantity":8,"Material":"OgKDEYx","Season":"AlXP","Brand":"DIYsTPmvIG","Size":"KlsQZR","Width":"JGIQKuinph","JobDateTimeStamp":"1936-02-20T01:42:02Z","BatchJobStepName":"DuuUATCWy","DocType":""}'
      - '{"StockDate":"1924-05-13T16:13:09Z","EAN":"ftllqrl","Company":"OEVqHZFjjB","DClocation":"XxYdxtls","StockCategoryCode":"oVoO","AvailableQuantity":2,"OnPOOrderQuantity":1,"InTransitQuantity":6,"TransferQuantity":7,"OnSOQuantity":3,"OnDeliveryQuantity":6,"PackedQuantity":9,"BlockedQuantity":8,"ReservedQuantity":3,"InspectionQuantity":4,"StockLevelInd":"QqktDKWwUk","PAPQuantity":8,"PAPInTransitQuantity":6,"OpenOnSalesOrderQuantity":2,"Material":"QZqJSth","Season":"JZSalL","Brand":"AgioXXq","Size":"zDhzI","Width":"MPAMnrhw","JobDateTimeStamp":"1950-09-21T20:39:46Z","BatchJobStepName":"nmUVEe","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6InB2QWIiLCJEQ2xvY2F0aW9uIjoibFlxUyIsIkVBTiI6IlhxdHgiLCJTdG9ja0NhdGVnb3J5Q29kZSI6Ikd4ZWoiLCJTdG9ja0RhdGUiOiIxOTE3LTA3LTIxVDIyOjE2OjE3WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMyIsIk9uUE9PcmRlclF1YW50aXR5IjoiNCIsIkluVHJhbnNpdFF1YW50aXR5IjoiOSIsIlRyYW5zZmVyUXVhbnRpdHkiOiIxMCIsIk9uU09RdWFudGl0eSI6IjUiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiIyIiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjMiLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoiZkRjYk8iLCJQQVBRdWFudGl0eSI6IjYiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjQiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI4IiwiTWF0ZXJpYWwiOiJPZ0tERVl4IiwiU2Vhc29uIjoiQWxYUCIsIkJyYW5kIjoiRElZc1RQbXZJRyIsIlNpemUiOiJLbHNRWlIiLCJXaWR0aCI6IkpHSVFLdWlucGgiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTkzNi0wMi0yMFQwMTo0MjowMloiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiRHV1VUFUQ1d5In0seyJDb21wYW55IjoiT0VWcUhaRmpqQiIsIkRDbG9jYXRpb24iOiJYeFlkeHRscyIsIkVBTiI6ImZ0bGxxcmwiLCJTdG9ja0NhdGVnb3J5Q29kZSI6Im9Wb08iLCJTdG9ja0RhdGUiOiIxOTI0LTA1LTEzVDE2OjEzOjA5WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMiIsIk9uUE9PcmRlclF1YW50aXR5IjoiMSIsIkluVHJhbnNpdFF1YW50aXR5IjoiNiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI3IiwiT25TT1F1YW50aXR5IjoiMyIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjYiLCJQYWNrZWRRdWFudGl0eSI6IjkiLCJCbG9ja2VkUXVhbnRpdHkiOiI4IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjMiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI0IiwiU3RvY2tMZXZlbEluZCI6IlFxa3RES1d3VWsiLCJQQVBRdWFudGl0eSI6IjgiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjYiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIyIiwiTWF0ZXJpYWwiOiJRWnFKU3RoIiwiU2Vhc29uIjoiSlpTYWxMIiwiQnJhbmQiOiJBZ2lvWFhxIiwiU2l6ZSI6InpEaHpJIiwiV2lkdGgiOiJNUEFNbnJodyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTUwLTA5LTIxVDIwOjM5OjQ2WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJubVVWRWUifV0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1917-07-21T22:16:17Z","EAN":"Xqtx","Company":"pvAb","DClocation":"lYqS","StockCategoryCode":"Gxej","AvailableQuantity":3,"OnPOOrderQuantity":4,"InTransitQuantity":9,"TransferQuantity":10,"OnSOQuantity":5,"OnDeliveryQuantity":2,"PackedQuantity":10,"BlockedQuantity":3,"ReservedQuantity":8,"InspectionQuantity":3,"StockLevelInd":"fDcbO","PAPQuantity":6,"PAPInTransitQuantity":4,"OpenOnSalesOrderQuantity":8,"Material":"OgKDEYx","Season":"AlXP","Brand":"DIYsTPmvIG","Size":"KlsQZR","Width":"JGIQKuinph","JobDateTimeStamp":"1936-02-20T01:42:02Z","BatchJobStepName":"DuuUATCWy","DocType":""},{"StockDate":"1924-05-13T16:13:09Z","EAN":"ftllqrl","Company":"OEVqHZFjjB","DClocation":"XxYdxtls","StockCategoryCode":"oVoO","AvailableQuantity":2,"OnPOOrderQuantity":1,"InTransitQuantity":6,"TransferQuantity":7,"OnSOQuantity":3,"OnDeliveryQuantity":6,"PackedQuantity":9,"BlockedQuantity":8,"ReservedQuantity":3,"InspectionQuantity":4,"StockLevelInd":"QqktDKWwUk","PAPQuantity":8,"PAPInTransitQuantity":6,"OpenOnSalesOrderQuantity":2,"Material":"QZqJSth","Season":"JZSalL","Brand":"AgioXXq","Size":"zDhzI","Width":"MPAMnrhw","JobDateTimeStamp":"1950-09-21T20:39:46Z","BatchJobStepName":"nmUVEe","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiZ2x4WUoiLCJEQ2xvY2F0aW9uIjoiY2pjaUNMSmRJIiwiRUFOIjoiUnp1UnFVempYYiIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoicmlWQUdVVlpDIiwiU3RvY2tEYXRlIjoiMjAxMS0xMi0wNlQwMDo1MjozMFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjMiLCJPblBPT3JkZXJRdWFudGl0eSI6IjQiLCJJblRyYW5zaXRRdWFudGl0eSI6IjIiLCJUcmFuc2ZlclF1YW50aXR5IjoiMyIsIk9uU09RdWFudGl0eSI6IjEwIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNyIsIlBhY2tlZFF1YW50aXR5IjoiOCIsIkJsb2NrZWRRdWFudGl0eSI6IjgiLCJSZXNlcnZlZFF1YW50aXR5IjoiMTAiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIzIiwiU3RvY2tMZXZlbEluZCI6ImZNeU8iLCJQQVBRdWFudGl0eSI6IjYiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjgiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxMCIsIk1hdGVyaWFsIjoiTURKVVBBIiwiU2Vhc29uIjoiV2t5ViIsIkJyYW5kIjoiSHpoek9DIiwiU2l6ZSI6ImFCcFVYIiwiV2lkdGgiOiJRUHRHWUMiLCJKb2JEYXRlVGltZVN0YW1wIjoiMjAxNC0wNS0wMVQxOTo0MzoxOVoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiamZSVCJ9LHsiQ29tcGFueSI6IlJvSW1hIiwiRENsb2NhdGlvbiI6Ik1HZnkiLCJFQU4iOiJFV0J2IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJsQVpkRiIsIlN0b2NrRGF0ZSI6IjE5OTQtMTItMTNUMjM6NDA6MzhaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxIiwiT25QT09yZGVyUXVhbnRpdHkiOiI0IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI4IiwiVHJhbnNmZXJRdWFudGl0eSI6IjYiLCJPblNPUXVhbnRpdHkiOiI3IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiMSIsIlBhY2tlZFF1YW50aXR5IjoiMiIsIkJsb2NrZWRRdWFudGl0eSI6IjEwIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjMiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI1IiwiU3RvY2tMZXZlbEluZCI6IktoSVdJIiwiUEFQUXVhbnRpdHkiOiIyIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIzIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMSIsIk1hdGVyaWFsIjoicUNaVEsiLCJTZWFzb24iOiJIaExOIiwiQnJhbmQiOiJISUlBeXhFTHAiLCJTaXplIjoiTE15SGsiLCJXaWR0aCI6ImF5SktjanUiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk3OC0xMi0yM1QwODoyNDoxMVoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiaHVOY3gifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiZG55VmwiLCJEQ2xvY2F0aW9uIjoiWXRNY1QiLCJFQU4iOiJVRHlaYlRDdSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiYlZzS0V0QmMiLCJTdG9ja0RhdGUiOiIxOTU1LTExLTE5VDE5OjQwOjI5WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiOSIsIk9uUE9PcmRlclF1YW50aXR5IjoiMyIsIkluVHJhbnNpdFF1YW50aXR5IjoiMyIsIlRyYW5zZmVyUXVhbnRpdHkiOiIzIiwiT25TT1F1YW50aXR5IjoiNyIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjQiLCJQYWNrZWRRdWFudGl0eSI6IjEwIiwiQmxvY2tlZFF1YW50aXR5IjoiOSIsIlJlc2VydmVkUXVhbnRpdHkiOiI0IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiMiIsIlN0b2NrTGV2ZWxJbmQiOiJKSEh1Vk5JIiwiUEFQUXVhbnRpdHkiOiI3IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI2IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNiIsIk1hdGVyaWFsIjoidWNEYXkiLCJTZWFzb24iOiJ3VlVLSiIsIkJyYW5kIjoiY0pDeG1EeFQiLCJTaXplIjoiY21GelNsIiwiV2lkdGgiOiJNZ1JYcyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTg4LTA0LTE0VDIxOjEzOjM4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJoanBud2gifSx7IkNvbXBhbnkiOiJxRWNnV0dWT3MiLCJEQ2xvY2F0aW9uIjoiem9kek5qdW0iLCJFQU4iOiJUeG9kRW9QIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJLWUFBamVHZVQiLCJTdG9ja0RhdGUiOiIxOTkyLTAzLTIyVDExOjI2OjQ1WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiNiIsIk9uUE9PcmRlclF1YW50aXR5IjoiNyIsIkluVHJhbnNpdFF1YW50aXR5IjoiMSIsIlRyYW5zZmVyUXVhbnRpdHkiOiI3IiwiT25TT1F1YW50aXR5IjoiOCIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjgiLCJQYWNrZWRRdWFudGl0eSI6IjMiLCJCbG9ja2VkUXVhbnRpdHkiOiIxIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjUiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIzIiwiU3RvY2tMZXZlbEluZCI6ImtNSEhqaWYiLCJQQVBRdWFudGl0eSI6IjEiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxIiwiTWF0ZXJpYWwiOiJ5R092dlRscHAiLCJTZWFzb24iOiJZQm9ZRCIsIkJyYW5kIjoiZkZIQ21LIiwiU2l6ZSI6IllyV0MiLCJXaWR0aCI6IkRQUlJFaW1ZIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MTItMDctMTVUMTA6NTQ6MjlaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkRISXBvUiJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Uploader - UploadFile : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"wTDF","DClocation":"qqcsP","EAN":"Ptjh","StockCategoryCode":"kOyocO","StockDate":"1978-12-27T05:12:15Z","AvailableQuantity":"1","OnPOOrderQuantity":"7","InTransitQuantity":"10","TransferQuantity":"3","OnSOQuantity":"4","OnDeliveryQuantity":"3","PackedQuantity":"5","BlockedQuantity":"1","ReservedQuantity":"2","InspectionQuantity":"10","StockLevelInd":"KaVxWQJCJW","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"1","Material":"YfPEPix","Season":"nyCZvq","Brand":"AMBdDDWFGB","Size":"QAHBwxs","Width":"oKgLdZIAN","JobDateTimeStamp":"2017-09-03T16:32:58Z","BatchJobStepName":"wXXif"},{"Company":"wRVQBVMd","DClocation":"ggUAuGPJ","EAN":"kcCGqDDiWf","StockCategoryCode":"ZKrpEzcCk","StockDate":"1944-02-12T12:11:08Z","AvailableQuantity":"6","OnPOOrderQuantity":"2","InTransitQuantity":"6","TransferQuantity":"8","OnSOQuantity":"1","OnDeliveryQuantity":"9","PackedQuantity":"9","BlockedQuantity":"7","ReservedQuantity":"1","InspectionQuantity":"8","StockLevelInd":"YiaxtQabf","PAPQuantity":"6","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"4","Material":"ISDSwWBKPG","Season":"jeClZSuKjQ","Brand":"sYhuVAgjev","Size":"HpgDhOIcH","Width":"EGSzGWiwqc","JobDateTimeStamp":"2019-07-18T02:38:06Z","BatchJobStepName":"HEbH"}]'
  - '{"Test":[{"Company":"WIzgEBPe","DClocation":"EKISo","EAN":"nUcME","StockCategoryCode":"EgzhIr","StockDate":"2002-05-23T05:56:18Z","AvailableQuantity":"5","OnPOOrderQuantity":"2","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"7","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"9","ReservedQuantity":"3","InspectionQuantity":"9","StockLevelInd":"iaCeLDLdu","PAPQuantity":"8","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"ThYVEBma","Season":"xIdkq","Brand":"GQxSYS","Size":"DfSYMmroNG","Width":"tDUmle","JobDateTimeStamp":"1958-05-07T18:47:07Z","BatchJobStepName":"eApEuqsIFK"},{"Company":"ucNEjvd","DClocation":"nzJJ","EAN":"xUCYEtvI","StockCategoryCode":"qXIryG","StockDate":"1900-06-18T02:22:03Z","AvailableQuantity":"10","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"5","OnSOQuantity":"1","OnDeliveryQuantity":"9","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"4","InspectionQuantity":"5","StockLevelInd":"XVCY","PAPQuantity":"7","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"zLih","Season":"RCdCdbLK","Brand":"KpfcVFfPsx","Size":"pfry","Width":"dZdCGFl","JobDateTimeStamp":"1910-03-01T15:19:01Z","BatchJobStepName":"oaMMRjlUDH"}]}'
  - '{"Test":[{"Company":"QJelqJ","DClocation":"AABMyctZ","EAN":"dNeEMgnqLb","StockCategoryCode":"sjVWCS","StockDate":"1933-08-19T06:49:29Z","AvailableQuantity":"5","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"7","OnSOQuantity":"3","OnDeliveryQuantity":"8","PackedQuantity":"4","BlockedQuantity":"4","ReservedQuantity":"10","InspectionQuantity":"6","StockLevelInd":"KjWyC","PAPQuantity":"3","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"4","Material":"GPEEDuR","Season":"OIcRvcrbpl","Brand":"yhCjgEhQ","Size":"XcoUA","Width":"CHzbP","JobDateTimeStamp":"1943-01-30T02:46:38Z","BatchJobStepName":"wpDEfd"},{"Company":"qCiTFWazw","DClocation":"ORFGiZh","EAN":"CImla","StockCategoryCode":"adndqWM","StockDate":"1906-12-24T00:50:16Z","AvailableQuantity":"4","OnPOOrderQuantity":"7","InTransitQuantity":"5","TransferQuantity":"7","OnSOQuantity":"4","OnDeliveryQuantity":"10","PackedQuantity":"3","BlockedQuantity":"8","ReservedQuantity":"8","InspectionQuantity":"7","StockLevelInd":"CJyffTaYH","PAPQuantity":"4","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"zScux","Season":"atfcQhcXmU","Brand":"Ibij","Size":"RQPhrf","Width":"KZzFbrIHg","JobDateTimeStamp":"2016-02-05T20:52:32Z","BatchJobStepName":"BqoKQ"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"wTDF","DClocation":"qqcsP","EAN":"Ptjh","StockCategoryCode":"kOyocO","StockDate":"1978-12-27T05:12:15Z","AvailableQuantity":"1","OnPOOrderQuantity":"7","InTransitQuantity":"10","TransferQuantity":"3","OnSOQuantity":"4","OnDeliveryQuantity":"3","PackedQuantity":"5","BlockedQuantity":"1","ReservedQuantity":"2","InspectionQuantity":"10","StockLevelInd":"KaVxWQJCJW","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"1","Material":"YfPEPix","Season":"nyCZvq","Brand":"AMBdDDWFGB","Size":"QAHBwxs","Width":"oKgLdZIAN","JobDateTimeStamp":"2017-09-03T16:32:58Z","BatchJobStepName":"wXXif"},{"Company":"wRVQBVMd","DClocation":"ggUAuGPJ","EAN":"kcCGqDDiWf","StockCategoryCode":"ZKrpEzcCk","StockDate":"1944-02-12T12:11:08Z","AvailableQuantity":"6","OnPOOrderQuantity":"2","InTransitQuantity":"6","TransferQuantity":"8","OnSOQuantity":"1","OnDeliveryQuantity":"9","PackedQuantity":"9","BlockedQuantity":"7","ReservedQuantity":"1","InspectionQuantity":"8","StockLevelInd":"YiaxtQabf","PAPQuantity":"6","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"4","Material":"ISDSwWBKPG","Season":"jeClZSuKjQ","Brand":"sYhuVAgjev","Size":"HpgDhOIcH","Width":"EGSzGWiwqc","JobDateTimeStamp":"2019-07-18T02:38:06Z","BatchJobStepName":"HEbH"}]'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"WIzgEBPe","DClocation":"EKISo","EAN":"nUcME","StockCategoryCode":"EgzhIr","StockDate":"2002-05-23T05:56:18Z","AvailableQuantity":"5","OnPOOrderQuantity":"2","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"7","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"9","ReservedQuantity":"3","InspectionQuantity":"9","StockLevelInd":"iaCeLDLdu","PAPQuantity":"8","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"ThYVEBma","Season":"xIdkq","Brand":"GQxSYS","Size":"DfSYMmroNG","Width":"tDUmle","JobDateTimeStamp":"1958-05-07T18:47:07Z","BatchJobStepName":"eApEuqsIFK"},{"Company":"ucNEjvd","DClocation":"nzJJ","EAN":"xUCYEtvI","StockCategoryCode":"qXIryG","StockDate":"1900-06-18T02:22:03Z","AvailableQuantity":"10","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"5","OnSOQuantity":"1","OnDeliveryQuantity":"9","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"4","InspectionQuantity":"5","StockLevelInd":"XVCY","PAPQuantity":"7","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"zLih","Season":"RCdCdbLK","Brand":"KpfcVFfPsx","Size":"pfry","Width":"dZdCGFl","JobDateTimeStamp":"1910-03-01T15:19:01Z","BatchJobStepName":"oaMMRjlUDH"}]}'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"QJelqJ","DClocation":"AABMyctZ","EAN":"dNeEMgnqLb","StockCategoryCode":"sjVWCS","StockDate":"1933-08-19T06:49:29Z","AvailableQuantity":"5","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"7","OnSOQuantity":"3","OnDeliveryQuantity":"8","PackedQuantity":"4","BlockedQuantity":"4","ReservedQuantity":"10","InspectionQuantity":"6","StockLevelInd":"KjWyC","PAPQuantity":"3","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"4","Material":"GPEEDuR","Season":"OIcRvcrbpl","Brand":"yhCjgEhQ","Size":"XcoUA","Width":"CHzbP","JobDateTimeStamp":"1943-01-30T02:46:38Z","BatchJobStepName":"wpDEfd"},{"Company":"qCiTFWazw","DClocation":"ORFGiZh","EAN":"CImla","StockCategoryCode":"adndqWM","StockDate":"1906-12-24T00:50:16Z","AvailableQuantity":"4","OnPOOrderQuantity":"7","InTransitQuantity":"5","TransferQuantity":"7","OnSOQuantity":"4","OnDeliveryQuantity":"10","PackedQuantity":"3","BlockedQuantity":"8","ReservedQuantity":"8","InspectionQuantity":"7","StockLevelInd":"CJyffTaYH","PAPQuantity":"4","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"zScux","Season":"atfcQhcXmU","Brand":"Ibij","Size":"RQPhrf","Width":"KZzFbrIHg","JobDateTimeStamp":"2016-02-05T20:52:32Z","BatchJobStepName":"BqoKQ"}]}'
      expect_error: failed to upload
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1978-12-27 05:12:15 +0000 UTC-Ptjh-wTDF-qqcsP
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 1944-02-12 12:11:08 +0000 UTC-kcCGqDDiWf-wRVQBVMd-ggUAuGPJ
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1978-12-27T05:12:15Z","EAN":"Ptjh","Company":"wTDF","DClocation":"qqcsP","StockCategoryCode":"kOyocO","AvailableQuantity":1,"OnPOOrderQuantity":7,"InTransitQuantity":10,"TransferQuantity":3,"OnSOQuantity":4,"OnDeliveryQuantity":3,"PackedQuantity":5,"BlockedQuantity":1,"ReservedQuantity":2,"InspectionQuantity":10,"StockLevelInd":"KaVxWQJCJW","PAPQuantity":10,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":1,"Material":"YfPEPix","Season":"nyCZvq","Brand":"AMBdDDWFGB","Size":"QAHBwxs","Width":"oKgLdZIAN","JobDateTimeStamp":"2017-09-03T16:32:58Z","BatchJobStepName":"wXXif","DocType":""}'
      - '{"StockDate":"1944-02-12T12:11:08Z","EAN":"kcCGqDDiWf","Company":"wRVQBVMd","DClocation":"ggUAuGPJ","StockCategoryCode":"ZKrpEzcCk","AvailableQuantity":6,"OnPOOrderQuantity":2,"InTransitQuantity":6,"TransferQuantity":8,"OnSOQuantity":1,"OnDeliveryQuantity":9,"PackedQuantity":9,"BlockedQuantity":7,"ReservedQuantity":1,"InspectionQuantity":8,"StockLevelInd":"YiaxtQabf","PAPQuantity":6,"PAPInTransitQuantity":2,"OpenOnSalesOrderQuantity":4,"Material":"ISDSwWBKPG","Season":"jeClZSuKjQ","Brand":"sYhuVAgjev","Size":"HpgDhOIcH","Width":"EGSzGWiwqc","JobDateTimeStamp":"2019-07-18T02:38:06Z","BatchJobStepName":"HEbH","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6IndUREYiLCJEQ2xvY2F0aW9uIjoicXFjc1AiLCJFQU4iOiJQdGpoIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJrT3lvY08iLCJTdG9ja0RhdGUiOiIxOTc4LTEyLTI3VDA1OjEyOjE1WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNyIsIkluVHJhbnNpdFF1YW50aXR5IjoiMTAiLCJUcmFuc2ZlclF1YW50aXR5IjoiMyIsIk9uU09RdWFudGl0eSI6IjQiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiIzIiwiUGFja2VkUXVhbnRpdHkiOiI1IiwiQmxvY2tlZFF1YW50aXR5IjoiMSIsIlJlc2VydmVkUXVhbnRpdHkiOiIyIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiMTAiLCJTdG9ja0xldmVsSW5kIjoiS2FWeFdRSkNKVyIsIlBBUFF1YW50aXR5IjoiMTAiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjEiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxIiwiTWF0ZXJpYWwiOiJZZlBFUGl4IiwiU2Vhc29uIjoibnlDWnZxIiwiQnJhbmQiOiJBTUJkRERXRkdCIiwiU2l6ZSI6IlFBSEJ3eHMiLCJXaWR0aCI6Im9LZ0xkWklBTiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE3LTA5LTAzVDE2OjMyOjU4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJ3WFhpZiJ9LHsiQ29tcGFueSI6IndSVlFCVk1kIiwiRENsb2NhdGlvbiI6ImdnVUF1R1BKIiwiRUFOIjoia2NDR3FERGlXZiIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiWktycEV6Y0NrIiwiU3RvY2tEYXRlIjoiMTk0NC0wMi0xMlQxMjoxMTowOFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjIiLCJJblRyYW5zaXRRdWFudGl0eSI6IjYiLCJUcmFuc2ZlclF1YW50aXR5IjoiOCIsIk9uU09RdWFudGl0eSI6IjEiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI5IiwiUGFja2VkUXVhbnRpdHkiOiI5IiwiQmxvY2tlZFF1YW50aXR5IjoiNyIsIlJlc2VydmVkUXVhbnRpdHkiOiIxIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiOCIsIlN0b2NrTGV2ZWxJbmQiOiJZaWF4dFFhYmYiLCJQQVBRdWFudGl0eSI6IjYiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjIiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI0IiwiTWF0ZXJpYWwiOiJJU0RTd1dCS1BHIiwiU2Vhc29uIjoiamVDbFpTdUtqUSIsIkJyYW5kIjoic1lodVZBZ2pldiIsIlNpemUiOiJIcGdEaE9JY0giLCJXaWR0aCI6IkVHU3pHV2l3cWMiLCJKb2JEYXRlVGltZVN0YW1wIjoiMjAxOS0wNy0xOFQwMjozODowNloiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiSEViSCJ9XQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1978-12-27T05:12:15Z","EAN":"Ptjh","Company":"wTDF","DClocation":"qqcsP","StockCategoryCode":"kOyocO","AvailableQuantity":1,"OnPOOrderQuantity":7,"InTransitQuantity":10,"TransferQuantity":3,"OnSOQuantity":4,"OnDeliveryQuantity":3,"PackedQuantity":5,"BlockedQuantity":1,"ReservedQuantity":2,"InspectionQuantity":10,"StockLevelInd":"KaVxWQJCJW","PAPQuantity":10,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":1,"Material":"YfPEPix","Season":"nyCZvq","Brand":"AMBdDDWFGB","Size":"QAHBwxs","Width":"oKgLdZIAN","JobDateTimeStamp":"2017-09-03T16:32:58Z","BatchJobStepName":"wXXif","DocType":""},{"StockDate":"1944-02-12T12:11:08Z","EAN":"kcCGqDDiWf","Company":"wRVQBVMd","DClocation":"ggUAuGPJ","StockCategoryCode":"ZKrpEzcCk","AvailableQuantity":6,"OnPOOrderQuantity":2,"InTransitQuantity":6,"TransferQuantity":8,"OnSOQuantity":1,"OnDeliveryQuantity":9,"PackedQuantity":9,"BlockedQuantity":7,"ReservedQuantity":1,"InspectionQuantity":8,"StockLevelInd":"YiaxtQabf","PAPQuantity":6,"PAPInTransitQuantity":2,"OpenOnSalesOrderQuantity":4,"Material":"ISDSwWBKPG","Season":"jeClZSuKjQ","Brand":"sYhuVAgjev","Size":"HpgDhOIcH","Width":"EGSzGWiwqc","JobDateTimeStamp":"2019-07-18T02:38:06Z","BatchJobStepName":"HEbH","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiV0l6Z0VCUGUiLCJEQ2xvY2F0aW9uIjoiRUtJU28iLCJFQU4iOiJuVWNNRSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiRWd6aElyIiwiU3RvY2tEYXRlIjoiMjAwMi0wNS0yM1QwNTo1NjoxOFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjUiLCJPblBPT3JkZXJRdWFudGl0eSI6IjIiLCJJblRyYW5zaXRRdWFudGl0eSI6IjQiLCJUcmFuc2ZlclF1YW50aXR5IjoiOCIsIk9uU09RdWFudGl0eSI6IjciLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiI2IiwiQmxvY2tlZFF1YW50aXR5IjoiOSIsIlJlc2VydmVkUXVhbnRpdHkiOiIzIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiOSIsIlN0b2NrTGV2ZWxJbmQiOiJpYUNlTERMZHUiLCJQQVBRdWFudGl0eSI6IjgiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxMCIsIk1hdGVyaWFsIjoiVGhZVkVCbWEiLCJTZWFzb24iOiJ4SWRrcSIsIkJyYW5kIjoiR1F4U1lTIiwiU2l6ZSI6IkRmU1lNbXJvTkciLCJXaWR0aCI6InREVW1sZSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTU4LTA1LTA3VDE4OjQ3OjA3WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJlQXBFdXFzSUZLIn0seyJDb21wYW55IjoidWNORWp2ZCIsIkRDbG9jYXRpb24iOiJuekpKIiwiRUFOIjoieFVDWUV0dkkiLCJTdG9ja0NhdGVnb3J5Q29kZSI6InFYSXJ5RyIsIlN0b2NrRGF0ZSI6IjE5MDAtMDYtMThUMDI6MjI6MDNaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiNSIsIkluVHJhbnNpdFF1YW50aXR5IjoiNiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI1IiwiT25TT1F1YW50aXR5IjoiMSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjkiLCJQYWNrZWRRdWFudGl0eSI6IjEiLCJCbG9ja2VkUXVhbnRpdHkiOiIyIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjQiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI1IiwiU3RvY2tMZXZlbEluZCI6IlhWQ1kiLCJQQVBRdWFudGl0eSI6IjciLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIzIiwiTWF0ZXJpYWwiOiJ6TGloIiwiU2Vhc29uIjoiUkNkQ2RiTEsiLCJCcmFuZCI6IktwZmNWRmZQc3giLCJTaXplIjoicGZyeSIsIldpZHRoIjoiZFpkQ0dGbCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTEwLTAzLTAxVDE1OjE5OjAxWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJvYU1NUmpsVURIIn1dfQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiUUplbHFKIiwiRENsb2NhdGlvbiI6IkFBQk15Y3RaIiwiRUFOIjoiZE5lRU1nbnFMYiIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoic2pWV0NTIiwiU3RvY2tEYXRlIjoiMTkzMy0wOC0xOVQwNjo0OToyOVoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjUiLCJPblBPT3JkZXJRdWFudGl0eSI6IjEwIiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI5IiwiVHJhbnNmZXJRdWFudGl0eSI6IjciLCJPblNPUXVhbnRpdHkiOiIzIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiOCIsIlBhY2tlZFF1YW50aXR5IjoiNCIsIkJsb2NrZWRRdWFudGl0eSI6IjQiLCJSZXNlcnZlZFF1YW50aXR5IjoiMTAiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI2IiwiU3RvY2tMZXZlbEluZCI6IktqV3lDIiwiUEFQUXVhbnRpdHkiOiIzIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI1IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNCIsIk1hdGVyaWFsIjoiR1BFRUR1UiIsIlNlYXNvbiI6Ik9JY1J2Y3JicGwiLCJCcmFuZCI6InloQ2pnRWhRIiwiU2l6ZSI6Ilhjb1VBIiwiV2lkdGgiOiJDSHpiUCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTQzLTAxLTMwVDAyOjQ2OjM4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJ3cERFZmQifSx7IkNvbXBhbnkiOiJxQ2lURldhenciLCJEQ2xvY2F0aW9uIjoiT1JGR2laaCIsIkVBTiI6IkNJbWxhIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJhZG5kcVdNIiwiU3RvY2tEYXRlIjoiMTkwNi0xMi0yNFQwMDo1MDoxNloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjQiLCJPblBPT3JkZXJRdWFudGl0eSI6IjciLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiNyIsIk9uU09RdWFudGl0eSI6IjQiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiIxMCIsIlBhY2tlZFF1YW50aXR5IjoiMyIsIkJsb2NrZWRRdWFudGl0eSI6IjgiLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjciLCJTdG9ja0xldmVsSW5kIjoiQ0p5ZmZUYVlIIiwiUEFQUXVhbnRpdHkiOiI0IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI0IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMyIsIk1hdGVyaWFsIjoielNjdXgiLCJTZWFzb24iOiJhdGZjUWhjWG1VIiwiQnJhbmQiOiJJYmlqIiwiU2l6ZSI6IlJRUGhyZiIsIldpZHRoIjoiS1p6RmJySUhnIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjIwMTYtMDItMDVUMjA6NTI6MzJaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkJxb0tRIn1dfQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Uploader - UploadFile : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"NTSXFeoVKo","DClocation":"HtRoqWKtvv","EAN":"gDRqQJM","StockCategoryCode":"DpWhZX","StockDate":"1947-09-06T22:24:28Z","AvailableQuantity":"1","OnPOOrderQuantity":"1","InTransitQuantity":"3","TransferQuantity":"1","OnSOQuantity":"6","OnDeliveryQuantity":"1","PackedQuantity":"10","BlockedQuantity":"6","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"fZFh","PAPQuantity":"9","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"7","Material":"DkWBCIEW","Season":"KbtWhc","Brand":"LyZMRHCGdw","Size":"ynUt","Width":"mHRBF","JobDateTimeStamp":"1994-07-13T16:18:04Z","BatchJobStepName":"wLXv"},{"Company":"ljJkACXB","DClocation":"eSHI","EAN":"mLPZm","StockCategoryCode":"SXKn","StockDate":"1919-11-30T11:02:43Z","AvailableQuantity":"4","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"5","OnSOQuantity":"5","OnDeliveryQuantity":"1","PackedQuantity":"1","BlockedQuantity":"8","ReservedQuantity":"9","InspectionQuantity":"7","StockLevelInd":"LEnKciJ","PAPQuantity":"1","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"3","Material":"VPRGjVR","Season":"fGqdkQdPWj","Brand":"WiyNAM","Size":"IRDn","Width":"FXIf","JobDateTimeStamp":"1938-09-19T16:03:11Z","BatchJobStepName":"IuDzorXFkI"}]'
  - '{"Test":[{"Company":"LRIwMNvl","DClocation":"TaBiAgC","EAN":"tvuuyYNQlT","StockCategoryCode":"eRlGkR","StockDate":"2012-09-30T14:51:20Z","AvailableQuantity":"3","OnPOOrderQuantity":"10","InTransitQuantity":"4","TransferQuantity":"5","OnSOQuantity":"10","OnDeliveryQuantity":"9","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"GIYqXUs","PAPQuantity":"7","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"9","Material":"lcmuy","Season":"mHTMSENeKX","Brand":"Jexo","Size":"IkYkY","Width":"vtNxZjnXYr","JobDateTimeStamp":"1964-05-06T15:03:43Z","BatchJobStepName":"qHKGKVNOeh"},{"Company":"hkBbRZvSQX","DClocation":"GmXemWllL","EAN":"qtGrXpBEvT","StockCategoryCode":"SWPB","StockDate":"2004-10-27T01:59:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"6","TransferQuantity":"10","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"2","BlockedQuantity":"8","ReservedQuantity":"8","InspectionQuantity":"4","StockLevelInd":"jLvwnAyUer","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"3","Material":"WIBafwn","Season":"MBONNqj","Brand":"cNGjwgfV","Size":"EjsBSfZ","Width":"JKPAo","JobDateTimeStamp":"2016-10-15T07:49:56Z","BatchJobStepName":"HZBla"}]}'
  - '{"Test":[{"Company":"gQLVqRhCLW","DClocation":"UIapzD","EAN":"TVwG","StockCategoryCode":"GWGYQN","StockDate":"1969-02-22T05:35:22Z","AvailableQuantity":"5","OnPOOrderQuantity":"7","InTransitQuantity":"4","TransferQuantity":"9","OnSOQuantity":"9","OnDeliveryQuantity":"5","PackedQuantity":"2","BlockedQuantity":"7","ReservedQuantity":"7","InspectionQuantity":"6","StockLevelInd":"PNGDaxeM","PAPQuantity":"2","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"4","Material":"xRjkkS","Season":"aOtkgd","Brand":"jpgOvOf","Size":"nkNAFQD","Width":"aVbzpFnl","JobDateTimeStamp":"1945-03-12T21:14:16Z","BatchJobStepName":"oKNq"},{"Company":"ZUERGIYfZB","DClocation":"SQlCgPZf","EAN":"eIgY","StockCategoryCode":"ZrITSRJsab","StockDate":"1943-07-24T07:28:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"5","InTransitQuantity":"10","TransferQuantity":"8","OnSOQuantity":"10","OnDeliveryQuantity":"7","PackedQuantity":"6","BlockedQuantity":"1","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"ZFxsZJtRo","PAPQuantity":"7","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"8","Material":"vQafAlVrQ","Season":"rhFU","Brand":"ALrtVIYnUp","Size":"UOiIX","Width":"FZAzzAWmwv","JobDateTimeStamp":"1948-04-18T07:00:00Z","BatchJobStepName":"IOfYuyrTT"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"NTSXFeoVKo","DClocation":"HtRoqWKtvv","EAN":"gDRqQJM","StockCategoryCode":"DpWhZX","StockDate":"1947-09-06T22:24:28Z","AvailableQuantity":"1","OnPOOrderQuantity":"1","InTransitQuantity":"3","TransferQuantity":"1","OnSOQuantity":"6","OnDeliveryQuantity":"1","PackedQuantity":"10","BlockedQuantity":"6","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"fZFh","PAPQuantity":"9","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"7","Material":"DkWBCIEW","Season":"KbtWhc","Brand":"LyZMRHCGdw","Size":"ynUt","Width":"mHRBF","JobDateTimeStamp":"1994-07-13T16:18:04Z","BatchJobStepName":"wLXv"},{"Company":"ljJkACXB","DClocation":"eSHI","EAN":"mLPZm","StockCategoryCode":"SXKn","StockDate":"1919-11-30T11:02:43Z","AvailableQuantity":"4","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"5","OnSOQuantity":"5","OnDeliveryQuantity":"1","PackedQuantity":"1","BlockedQuantity":"8","ReservedQuantity":"9","InspectionQuantity":"7","StockLevelInd":"LEnKciJ","PAPQuantity":"1","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"3","Material":"VPRGjVR","Season":"fGqdkQdPWj","Brand":"WiyNAM","Size":"IRDn","Width":"FXIf","JobDateTimeStamp":"1938-09-19T16:03:11Z","BatchJobStepName":"IuDzorXFkI"}]'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"LRIwMNvl","DClocation":"TaBiAgC","EAN":"tvuuyYNQlT","StockCategoryCode":"eRlGkR","StockDate":"2012-09-30T14:51:20Z","AvailableQuantity":"3","OnPOOrderQuantity":"10","InTransitQuantity":"4","TransferQuantity":"5","OnSOQuantity":"10","OnDeliveryQuantity":"9","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"GIYqXUs","PAPQuantity":"7","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"9","Material":"lcmuy","Season":"mHTMSENeKX","Brand":"Jexo","Size":"IkYkY","Width":"vtNxZjnXYr","JobDateTimeStamp":"1964-05-06T15:03:43Z","BatchJobStepName":"qHKGKVNOeh"},{"Company":"hkBbRZvSQX","DClocation":"GmXemWllL","EAN":"qtGrXpBEvT","StockCategoryCode":"SWPB","StockDate":"2004-10-27T01:59:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"6","TransferQuantity":"10","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"2","BlockedQuantity":"8","ReservedQuantity":"8","InspectionQuantity":"4","StockLevelInd":"jLvwnAyUer","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"3","Material":"WIBafwn","Season":"MBONNqj","Brand":"cNGjwgfV","Size":"EjsBSfZ","Width":"JKPAo","JobDateTimeStamp":"2016-10-15T07:49:56Z","BatchJobStepName":"HZBla"}]}'
      expect_error: failed to upload
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"gQLVqRhCLW","DClocation":"UIapzD","EAN":"TVwG","StockCategoryCode":"GWGYQN","StockDate":"1969-02-22T05:35:22Z","AvailableQuantity":"5","OnPOOrderQuantity":"7","InTransitQuantity":"4","TransferQuantity":"9","OnSOQuantity":"9","OnDeliveryQuantity":"5","PackedQuantity":"2","BlockedQuantity":"7","ReservedQuantity":"7","InspectionQuantity":"6","StockLevelInd":"PNGDaxeM","PAPQuantity":"2","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"4","Material":"xRjkkS","Season":"aOtkgd","Brand":"jpgOvOf","Size":"nkNAFQD","Width":"aVbzpFnl","JobDateTimeStamp":"1945-03-12T21:14:16Z","BatchJobStepName":"oKNq"},{"Company":"ZUERGIYfZB","DClocation":"SQlCgPZf","EAN":"eIgY","StockCategoryCode":"ZrITSRJsab","StockDate":"1943-07-24T07:28:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"5","InTransitQuantity":"10","TransferQuantity":"8","OnSOQuantity":"10","OnDeliveryQuantity":"7","PackedQuantity":"6","BlockedQuantity":"1","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"ZFxsZJtRo","PAPQuantity":"7","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"8","Material":"vQafAlVrQ","Season":"rhFU","Brand":"ALrtVIYnUp","Size":"UOiIX","Width":"FZAzzAWmwv","JobDateTimeStamp":"1948-04-18T07:00:00Z","BatchJobStepName":"IOfYuyrTT"}]}'
      expect_error: failed to upload
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1947-09-06 22:24:28 +0000 UTC-gDRqQJM-NTSXFeoVKo-HtRoqWKtvv
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 1919-11-30 11:02:43 +0000 UTC-mLPZm-ljJkACXB-eSHI
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1947-09-06T22:24:28Z","EAN":"gDRqQJM","Company":"NTSXFeoVKo","DClocation":"HtRoqWKtvv","StockCategoryCode":"DpWhZX","AvailableQuantity":1,"OnPOOrderQuantity":1,"InTransitQuantity":3,"TransferQuantity":1,"OnSOQuantity":6,"OnDeliveryQuantity":1,"PackedQuantity":10,"BlockedQuantity":6,"ReservedQuantity":2,"InspectionQuantity":9,"StockLevelInd":"fZFh","PAPQuantity":9,"PAPInTransitQuantity":8,"OpenOnSalesOrderQuantity":7,"Material":"DkWBCIEW","Season":"KbtWhc","Brand":"LyZMRHCGdw","Size":"ynUt","Width":"mHRBF","JobDateTimeStamp":"1994-07-13T16:18:04Z","BatchJobStepName":"wLXv","DocType":""}'
      - '{"StockDate":"1919-11-30T11:02:43Z","EAN":"mLPZm","Company":"ljJkACXB","DClocation":"eSHI","StockCategoryCode":"SXKn","AvailableQuantity":4,"OnPOOrderQuantity":8,"InTransitQuantity":3,"TransferQuantity":5,"OnSOQuantity":5,"OnDeliveryQuantity":1,"PackedQuantity":1,"BlockedQuantity":8,"ReservedQuantity":9,"InspectionQuantity":7,"StockLevelInd":"LEnKciJ","PAPQuantity":1,"PAPInTransitQuantity":7,"OpenOnSalesOrderQuantity":3,"Material":"VPRGjVR","Season":"fGqdkQdPWj","Brand":"WiyNAM","Size":"IRDn","Width":"FXIf","JobDateTimeStamp":"1938-09-19T16:03:11Z","BatchJobStepName":"IuDzorXFkI","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6Ik5UU1hGZW9WS28iLCJEQ2xvY2F0aW9uIjoiSHRSb3FXS3R2diIsIkVBTiI6ImdEUnFRSk0iLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkRwV2haWCIsIlN0b2NrRGF0ZSI6IjE5NDctMDktMDZUMjI6MjQ6MjhaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxIiwiT25QT09yZGVyUXVhbnRpdHkiOiIxIiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIzIiwiVHJhbnNmZXJRdWFudGl0eSI6IjEiLCJPblNPUXVhbnRpdHkiOiI2IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiMSIsIlBhY2tlZFF1YW50aXR5IjoiMTAiLCJCbG9ja2VkUXVhbnRpdHkiOiI2IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjIiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI5IiwiU3RvY2tMZXZlbEluZCI6ImZaRmgiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjgiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI3IiwiTWF0ZXJpYWwiOiJEa1dCQ0lFVyIsIlNlYXNvbiI6IktidFdoYyIsIkJyYW5kIjoiTHlaTVJIQ0dkdyIsIlNpemUiOiJ5blV0IiwiV2lkdGgiOiJtSFJCRiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTk0LTA3LTEzVDE2OjE4OjA0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJ3TFh2In0seyJDb21wYW55IjoibGpKa0FDWEIiLCJEQ2xvY2F0aW9uIjoiZVNISSIsIkVBTiI6Im1MUFptIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJTWEtuIiwiU3RvY2tEYXRlIjoiMTkxOS0xMS0zMFQxMTowMjo0M1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjQiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJUcmFuc2ZlclF1YW50aXR5IjoiNSIsIk9uU09RdWFudGl0eSI6IjUiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiIxIiwiUGFja2VkUXVhbnRpdHkiOiIxIiwiQmxvY2tlZFF1YW50aXR5IjoiOCIsIlJlc2VydmVkUXVhbnRpdHkiOiI5IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiNyIsIlN0b2NrTGV2ZWxJbmQiOiJMRW5LY2lKIiwiUEFQUXVhbnRpdHkiOiIxIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI3IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMyIsIk1hdGVyaWFsIjoiVlBSR2pWUiIsIlNlYXNvbiI6ImZHcWRrUWRQV2oiLCJCcmFuZCI6IldpeU5BTSIsIlNpemUiOiJJUkRuIiwiV2lkdGgiOiJGWElmIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MzgtMDktMTlUMTY6MDM6MTFaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6Ikl1RHpvclhGa0kifV0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1947-09-06T22:24:28Z","EAN":"gDRqQJM","Company":"NTSXFeoVKo","DClocation":"HtRoqWKtvv","StockCategoryCode":"DpWhZX","AvailableQuantity":1,"OnPOOrderQuantity":1,"InTransitQuantity":3,"TransferQuantity":1,"OnSOQuantity":6,"OnDeliveryQuantity":1,"PackedQuantity":10,"BlockedQuantity":6,"ReservedQuantity":2,"InspectionQuantity":9,"StockLevelInd":"fZFh","PAPQuantity":9,"PAPInTransitQuantity":8,"OpenOnSalesOrderQuantity":7,"Material":"DkWBCIEW","Season":"KbtWhc","Brand":"LyZMRHCGdw","Size":"ynUt","Width":"mHRBF","JobDateTimeStamp":"1994-07-13T16:18:04Z","BatchJobStepName":"wLXv","DocType":""},{"StockDate":"1919-11-30T11:02:43Z","EAN":"mLPZm","Company":"ljJkACXB","DClocation":"eSHI","StockCategoryCode":"SXKn","AvailableQuantity":4,"OnPOOrderQuantity":8,"InTransitQuantity":3,"TransferQuantity":5,"OnSOQuantity":5,"OnDeliveryQuantity":1,"PackedQuantity":1,"BlockedQuantity":8,"ReservedQuantity":9,"InspectionQuantity":7,"StockLevelInd":"LEnKciJ","PAPQuantity":1,"PAPInTransitQuantity":7,"OpenOnSalesOrderQuantity":3,"Material":"VPRGjVR","Season":"fGqdkQdPWj","Brand":"WiyNAM","Size":"IRDn","Width":"FXIf","JobDateTimeStamp":"1938-09-19T16:03:11Z","BatchJobStepName":"IuDzorXFkI","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiTFJJd01OdmwiLCJEQ2xvY2F0aW9uIjoiVGFCaUFnQyIsIkVBTiI6InR2dXV5WU5RbFQiLCJTdG9ja0NhdGVnb3J5Q29kZSI6ImVSbEdrUiIsIlN0b2NrRGF0ZSI6IjIwMTItMDktMzBUMTQ6NTE6MjBaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiIxMCIsIkluVHJhbnNpdFF1YW50aXR5IjoiNCIsIlRyYW5zZmVyUXVhbnRpdHkiOiI1IiwiT25TT1F1YW50aXR5IjoiMTAiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI5IiwiUGFja2VkUXVhbnRpdHkiOiIxIiwiQmxvY2tlZFF1YW50aXR5IjoiMiIsIlJlc2VydmVkUXVhbnRpdHkiOiIyIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiOSIsIlN0b2NrTGV2ZWxJbmQiOiJHSVlxWFVzIiwiUEFQUXVhbnRpdHkiOiI3IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIxMCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjkiLCJNYXRlcmlhbCI6ImxjbXV5IiwiU2Vhc29uIjoibUhUTVNFTmVLWCIsIkJyYW5kIjoiSmV4byIsIlNpemUiOiJJa1lrWSIsIldpZHRoIjoidnROeFpqblhZciIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTY0LTA1LTA2VDE1OjAzOjQzWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJxSEtHS1ZOT2VoIn0seyJDb21wYW55IjoiaGtCYlJadlNRWCIsIkRDbG9jYXRpb24iOiJHbVhlbVdsbEwiLCJFQU4iOiJxdEdyWHBCRXZUIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJTV1BCIiwiU3RvY2tEYXRlIjoiMjAwNC0xMC0yN1QwMTo1OTozMVoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjEwIiwiT25QT09yZGVyUXVhbnRpdHkiOiI3IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI2IiwiVHJhbnNmZXJRdWFudGl0eSI6IjEwIiwiT25TT1F1YW50aXR5IjoiMiIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjEwIiwiUGFja2VkUXVhbnRpdHkiOiIyIiwiQmxvY2tlZFF1YW50aXR5IjoiOCIsIlJlc2VydmVkUXVhbnRpdHkiOiI4IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiNCIsIlN0b2NrTGV2ZWxJbmQiOiJqTHZ3bkF5VWVyIiwiUEFQUXVhbnRpdHkiOiIxMCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiMSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjMiLCJNYXRlcmlhbCI6IldJQmFmd24iLCJTZWFzb24iOiJNQk9OTnFqIiwiQnJhbmQiOiJjTkdqd2dmViIsIlNpemUiOiJFanNCU2ZaIiwiV2lkdGgiOiJKS1BBbyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE2LTEwLTE1VDA3OjQ5OjU2WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJIWkJsYSJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiZ1FMVnFSaENMVyIsIkRDbG9jYXRpb24iOiJVSWFwekQiLCJFQU4iOiJUVndHIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJHV0dZUU4iLCJTdG9ja0RhdGUiOiIxOTY5LTAyLTIyVDA1OjM1OjIyWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiNSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNyIsIkluVHJhbnNpdFF1YW50aXR5IjoiNCIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiOSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjUiLCJQYWNrZWRRdWFudGl0eSI6IjIiLCJCbG9ja2VkUXVhbnRpdHkiOiI3IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjciLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI2IiwiU3RvY2tMZXZlbEluZCI6IlBOR0RheGVNIiwiUEFQUXVhbnRpdHkiOiIyIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI4IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNCIsIk1hdGVyaWFsIjoieFJqa2tTIiwiU2Vhc29uIjoiYU90a2dkIiwiQnJhbmQiOiJqcGdPdk9mIiwiU2l6ZSI6Im5rTkFGUUQiLCJXaWR0aCI6ImFWYnpwRm5sIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5NDUtMDMtMTJUMjE6MTQ6MTZaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6Im9LTnEifSx7IkNvbXBhbnkiOiJaVUVSR0lZZlpCIiwiRENsb2NhdGlvbiI6IlNRbENnUFpmIiwiRUFOIjoiZUlnWSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiWnJJVFNSSnNhYiIsIlN0b2NrRGF0ZSI6IjE5NDMtMDctMjRUMDc6Mjg6MzFaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiNSIsIkluVHJhbnNpdFF1YW50aXR5IjoiMTAiLCJUcmFuc2ZlclF1YW50aXR5IjoiOCIsIk9uU09RdWFudGl0eSI6IjEwIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNyIsIlBhY2tlZFF1YW50aXR5IjoiNiIsIkJsb2NrZWRRdWFudGl0eSI6IjEiLCJSZXNlcnZlZFF1YW50aXR5IjoiNCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoiWkZ4c1pKdFJvIiwiUEFQUXVhbnRpdHkiOiI3IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI5IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiOCIsIk1hdGVyaWFsIjoidlFhZkFsVnJRIiwiU2Vhc29uIjoicmhGVSIsIkJyYW5kIjoiQUxydFZJWW5VcCIsIlNpemUiOiJVT2lJWCIsIldpZHRoIjoiRlpBenpBV213diIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTQ4LTA0LTE4VDA3OjAwOjAwWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJJT2ZZdXlyVFQifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Repository - EntityExists : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"gaADdLvmO","DClocation":"mpARWWA","EAN":"kiaYkEggMS","StockCategoryCode":"SFIkHD","StockDate":"1921-09-12T00:03:20Z","AvailableQuantity":"7","OnPOOrderQuantity":"4","InTransitQuantity":"10","TransferQuantity":"1","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"4","BlockedQuantity":"10","ReservedQuantity":"1","InspectionQuantity":"10","StockLevelInd":"jXjjq","PAPQuantity":"4","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"9","Material":"PsbBwWah","Season":"SXUHmzJ","Brand":"IzCxAaUMV","Size":"hXqamGp","Width":"biyNH","JobDateTimeStamp":"1987-01-09T09:25:10Z","BatchJobStepName":"TwTGXHjGJ"},{"Company":"VvksTeZ","DClocation":"MHesgVvDfv","EAN":"IwaRtq","StockCategoryCode":"hFpALA","StockDate":"1994-03-24T08:22:33Z","AvailableQuantity":"6","OnPOOrderQuantity":"2","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"2","OnDeliveryQuantity":"2","PackedQuantity":"5","BlockedQuantity":"5","ReservedQuantity":"6","InspectionQuantity":"10","StockLevelInd":"LzlqmyT","PAPQuantity":"3","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"KgIKaAxB","Season":"SCcIT","Brand":"RGJWoMQEUp","Size":"YbcBQ","Width":"VFyPM","JobDateTimeStamp":"2003-10-23T23:25:46Z","BatchJobStepName":"upQjQlfK"}]'
  - '{"Test":[{"Company":"NbcC","DClocation":"FqveaCOOF","EAN":"SgyxydLq","StockCategoryCode":"XiOBvlK","StockDate":"2002-06-22T03:10:38Z","AvailableQuantity":"8","OnPOOrderQuantity":"6","InTransitQuantity":"9","TransferQuantity":"1","OnSOQuantity":"8","OnDeliveryQuantity":"7","PackedQuantity":"3","BlockedQuantity":"7","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"MQTT","PAPQuantity":"8","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"2","Material":"QsIy","Season":"IUxfUvh","Brand":"USbe","Size":"gdTP","Width":"FGZaguBjU","JobDateTimeStamp":"2010-07-24T15:39:15Z","BatchJobStepName":"bmOrFhltfG"},{"Company":"CWHokheL","DClocation":"SlSypfPJwl","EAN":"LYJLHaVMqO","StockCategoryCode":"EscpDjyJAE","StockDate":"2022-06-19T06:06:34Z","AvailableQuantity":"6","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"8","OnSOQuantity":"10","OnDeliveryQuantity":"5","PackedQuantity":"1","BlockedQuantity":"7","ReservedQuantity":"4","InspectionQuantity":"3","StockLevelInd":"uBeQ","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"9","Material":"oMaLvJyxOW","Season":"VCkHu","Brand":"lMchp","Size":"PAhstUb","Width":"oLTKCy","JobDateTimeStamp":"1935-05-22T13:01:40Z","BatchJobStepName":"gNCFKzWVSr"}]}'
  - '{"Test":[{"Company":"wgkHAJI","DClocation":"psVHfBb","EAN":"YGJsFGGpO","StockCategoryCode":"AkHkRlFB","StockDate":"1937-09-08T04:12:07Z","AvailableQuantity":"8","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"4","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"7","BlockedQuantity":"4","ReservedQuantity":"8","InspectionQuantity":"7","StockLevelInd":"EQYDNrU","PAPQuantity":"10","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"10","Material":"UVWiWQGUdk","Season":"mdVjqFhEl","Brand":"ZRlgCvODZA","Size":"AmNwKNQ","Width":"GdKNALF","JobDateTimeStamp":"1973-05-06T07:25:15Z","BatchJobStepName":"FReHcuKuXB"},{"Company":"OPAHtkHY","DClocation":"Juuuti","EAN":"OgaVtrkw","StockCategoryCode":"dDdn","StockDate":"1932-04-05T10:22:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"8","InTransitQuantity":"6","TransferQuantity":"6","OnSOQuantity":"6","OnDeliveryQuantity":"5","PackedQuantity":"8","BlockedQuantity":"5","ReservedQuantity":"1","InspectionQuantity":"3","StockLevelInd":"fdWsYp","PAPQuantity":"6","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"1","Material":"ukTbNoE","Season":"ncPoYQEgdp","Brand":"WRHdx","Size":"VjHyuoPyk","Width":"uLwxQ","JobDateTimeStamp":"1936-07-30T13:07:05Z","BatchJobStepName":"zSREtPpq"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"gaADdLvmO","DClocation":"mpARWWA","EAN":"kiaYkEggMS","StockCategoryCode":"SFIkHD","StockDate":"1921-09-12T00:03:20Z","AvailableQuantity":"7","OnPOOrderQuantity":"4","InTransitQuantity":"10","TransferQuantity":"1","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"4","BlockedQuantity":"10","ReservedQuantity":"1","InspectionQuantity":"10","StockLevelInd":"jXjjq","PAPQuantity":"4","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"9","Material":"PsbBwWah","Season":"SXUHmzJ","Brand":"IzCxAaUMV","Size":"hXqamGp","Width":"biyNH","JobDateTimeStamp":"1987-01-09T09:25:10Z","BatchJobStepName":"TwTGXHjGJ"},{"Company":"VvksTeZ","DClocation":"MHesgVvDfv","EAN":"IwaRtq","StockCategoryCode":"hFpALA","StockDate":"1994-03-24T08:22:33Z","AvailableQuantity":"6","OnPOOrderQuantity":"2","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"2","OnDeliveryQuantity":"2","PackedQuantity":"5","BlockedQuantity":"5","ReservedQuantity":"6","InspectionQuantity":"10","StockLevelInd":"LzlqmyT","PAPQuantity":"3","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"10","Material":"KgIKaAxB","Season":"SCcIT","Brand":"RGJWoMQEUp","Size":"YbcBQ","Width":"VFyPM","JobDateTimeStamp":"2003-10-23T23:25:46Z","BatchJobStepName":"upQjQlfK"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"NbcC","DClocation":"FqveaCOOF","EAN":"SgyxydLq","StockCategoryCode":"XiOBvlK","StockDate":"2002-06-22T03:10:38Z","AvailableQuantity":"8","OnPOOrderQuantity":"6","InTransitQuantity":"9","TransferQuantity":"1","OnSOQuantity":"8","OnDeliveryQuantity":"7","PackedQuantity":"3","BlockedQuantity":"7","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"MQTT","PAPQuantity":"8","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"2","Material":"QsIy","Season":"IUxfUvh","Brand":"USbe","Size":"gdTP","Width":"FGZaguBjU","JobDateTimeStamp":"2010-07-24T15:39:15Z","BatchJobStepName":"bmOrFhltfG"},{"Company":"CWHokheL","DClocation":"SlSypfPJwl","EAN":"LYJLHaVMqO","StockCategoryCode":"EscpDjyJAE","StockDate":"2022-06-19T06:06:34Z","AvailableQuantity":"6","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"8","OnSOQuantity":"10","OnDeliveryQuantity":"5","PackedQuantity":"1","BlockedQuantity":"7","ReservedQuantity":"4","InspectionQuantity":"3","StockLevelInd":"uBeQ","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"9","Material":"oMaLvJyxOW","Season":"VCkHu","Brand":"lMchp","Size":"PAhstUb","Width":"oLTKCy","JobDateTimeStamp":"1935-05-22T13:01:40Z","BatchJobStepName":"gNCFKzWVSr"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"wgkHAJI","DClocation":"psVHfBb","EAN":"YGJsFGGpO","StockCategoryCode":"AkHkRlFB","StockDate":"1937-09-08T04:12:07Z","AvailableQuantity":"8","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"4","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"7","BlockedQuantity":"4","ReservedQuantity":"8","InspectionQuantity":"7","StockLevelInd":"EQYDNrU","PAPQuantity":"10","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"10","Material":"UVWiWQGUdk","Season":"mdVjqFhEl","Brand":"ZRlgCvODZA","Size":"AmNwKNQ","Width":"GdKNALF","JobDateTimeStamp":"1973-05-06T07:25:15Z","BatchJobStepName":"FReHcuKuXB"},{"Company":"OPAHtkHY","DClocation":"Juuuti","EAN":"OgaVtrkw","StockCategoryCode":"dDdn","StockDate":"1932-04-05T10:22:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"8","InTransitQuantity":"6","TransferQuantity":"6","OnSOQuantity":"6","OnDeliveryQuantity":"5","PackedQuantity":"8","BlockedQuantity":"5","ReservedQuantity":"1","InspectionQuantity":"3","StockLevelInd":"fdWsYp","PAPQuantity":"6","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"1","Material":"ukTbNoE","Season":"ncPoYQEgdp","Brand":"WRHdx","Size":"VjHyuoPyk","Width":"uLwxQ","JobDateTimeStamp":"1936-07-30T13:07:05Z","BatchJobStepName":"zSREtPpq"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1921-09-12 00:03:20 +0000 UTC-kiaYkEggMS-gaADdLvmO-mpARWWA
      expect_outputs:
      - true
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiTmJjQyIsIkRDbG9jYXRpb24iOiJGcXZlYUNPT0YiLCJFQU4iOiJTZ3l4eWRMcSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiWGlPQnZsSyIsIlN0b2NrRGF0ZSI6IjIwMDItMDYtMjJUMDM6MTA6MzhaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI4IiwiT25QT09yZGVyUXVhbnRpdHkiOiI2IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI5IiwiVHJhbnNmZXJRdWFudGl0eSI6IjEiLCJPblNPUXVhbnRpdHkiOiI4IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNyIsIlBhY2tlZFF1YW50aXR5IjoiMyIsIkJsb2NrZWRRdWFudGl0eSI6IjciLCJSZXNlcnZlZFF1YW50aXR5IjoiNSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoiTVFUVCIsIlBBUFF1YW50aXR5IjoiOCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjIiLCJNYXRlcmlhbCI6IlFzSXkiLCJTZWFzb24iOiJJVXhmVXZoIiwiQnJhbmQiOiJVU2JlIiwiU2l6ZSI6ImdkVFAiLCJXaWR0aCI6IkZHWmFndUJqVSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDEwLTA3LTI0VDE1OjM5OjE1WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJibU9yRmhsdGZHIn0seyJDb21wYW55IjoiQ1dIb2toZUwiLCJEQ2xvY2F0aW9uIjoiU2xTeXBmUEp3bCIsIkVBTiI6IkxZSkxIYVZNcU8iLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkVzY3BEanlKQUUiLCJTdG9ja0RhdGUiOiIyMDIyLTA2LTE5VDA2OjA2OjM0WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiNiIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiMiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI4IiwiT25TT1F1YW50aXR5IjoiMTAiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiIxIiwiQmxvY2tlZFF1YW50aXR5IjoiNyIsIlJlc2VydmVkUXVhbnRpdHkiOiI0IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiMyIsIlN0b2NrTGV2ZWxJbmQiOiJ1QmVRIiwiUEFQUXVhbnRpdHkiOiI1IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI0IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiOSIsIk1hdGVyaWFsIjoib01hTHZKeXhPVyIsIlNlYXNvbiI6IlZDa0h1IiwiQnJhbmQiOiJsTWNocCIsIlNpemUiOiJQQWhzdFViIiwiV2lkdGgiOiJvTFRLQ3kiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTkzNS0wNS0yMlQxMzowMTo0MFoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiZ05DRkt6V1ZTciJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55Ijoid2drSEFKSSIsIkRDbG9jYXRpb24iOiJwc1ZIZkJiIiwiRUFOIjoiWUdKc0ZHR3BPIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJBa0hrUmxGQiIsIlN0b2NrRGF0ZSI6IjE5MzctMDktMDhUMDQ6MTI6MDdaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI4IiwiT25QT09yZGVyUXVhbnRpdHkiOiIzIiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIzIiwiVHJhbnNmZXJRdWFudGl0eSI6IjQiLCJPblNPUXVhbnRpdHkiOiI1IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNSIsIlBhY2tlZFF1YW50aXR5IjoiNyIsIkJsb2NrZWRRdWFudGl0eSI6IjQiLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjciLCJTdG9ja0xldmVsSW5kIjoiRVFZRE5yVSIsIlBBUFF1YW50aXR5IjoiMTAiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjYiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIxMCIsIk1hdGVyaWFsIjoiVVZXaVdRR1VkayIsIlNlYXNvbiI6Im1kVmpxRmhFbCIsIkJyYW5kIjoiWlJsZ0N2T0RaQSIsIlNpemUiOiJBbU53S05RIiwiV2lkdGgiOiJHZEtOQUxGIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5NzMtMDUtMDZUMDc6MjU6MTVaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkZSZUhjdUt1WEIifSx7IkNvbXBhbnkiOiJPUEFIdGtIWSIsIkRDbG9jYXRpb24iOiJKdXV1dGkiLCJFQU4iOiJPZ2FWdHJrdyIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiZERkbiIsIlN0b2NrRGF0ZSI6IjE5MzItMDQtMDVUMTA6MjI6MzFaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiOCIsIkluVHJhbnNpdFF1YW50aXR5IjoiNiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI2IiwiT25TT1F1YW50aXR5IjoiNiIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjUiLCJQYWNrZWRRdWFudGl0eSI6IjgiLCJCbG9ja2VkUXVhbnRpdHkiOiI1IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjEiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIzIiwiU3RvY2tMZXZlbEluZCI6ImZkV3NZcCIsIlBBUFF1YW50aXR5IjoiNiIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjEiLCJNYXRlcmlhbCI6InVrVGJOb0UiLCJTZWFzb24iOiJuY1BvWVFFZ2RwIiwiQnJhbmQiOiJXUkhkeCIsIlNpemUiOiJWakh5dW9QeWsiLCJXaWR0aCI6InVMd3hRIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MzYtMDctMzBUMTM6MDc6MDVaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6InpTUkV0UHBxIn1dfQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Repository - EntityExists : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"uEccMsyze","DClocation":"SLuQzm","EAN":"LVDavZpZ","StockCategoryCode":"KByCF","StockDate":"1961-03-18T16:18:50Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"9","TransferQuantity":"6","OnSOQuantity":"6","OnDeliveryQuantity":"9","PackedQuantity":"9","BlockedQuantity":"6","ReservedQuantity":"3","InspectionQuantity":"9","StockLevelInd":"UnDbHdjYG","PAPQuantity":"1","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"9","Material":"YHKbcGxx","Season":"ikVqE","Brand":"hIJg","Size":"qqYcPk","Width":"dAVeiO","JobDateTimeStamp":"2013-06-28T07:45:06Z","BatchJobStepName":"PVCZoUVr"},{"Company":"SEpe","DClocation":"OuRwQUDlSD","EAN":"owVDXwE","StockCategoryCode":"rHQXmmnCSU","StockDate":"1923-01-26T14:22:59Z","AvailableQuantity":"2","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"2","OnSOQuantity":"1","OnDeliveryQuantity":"7","PackedQuantity":"9","BlockedQuantity":"4","ReservedQuantity":"2","InspectionQuantity":"4","StockLevelInd":"zZkcQEQ","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"3","Material":"JxCDb","Season":"RIhwXX","Brand":"UGNkHcGgmi","Size":"mdMaUhJ","Width":"mCVT","JobDateTimeStamp":"1929-04-27T19:09:40Z","BatchJobStepName":"FwIwfBLc"}]'
  - '{"Test":[{"Company":"EGgTrhTDec","DClocation":"gNzhPme","EAN":"WJomIFWO","StockCategoryCode":"hOPT","StockDate":"2020-10-12T13:10:30Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"8","TransferQuantity":"9","OnSOQuantity":"1","OnDeliveryQuantity":"3","PackedQuantity":"10","BlockedQuantity":"9","ReservedQuantity":"2","InspectionQuantity":"5","StockLevelInd":"SIbKzC","PAPQuantity":"4","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"qNcRihVS","Season":"Qkow","Brand":"JWNiZJt","Size":"nYpXb","Width":"riyLk","JobDateTimeStamp":"2015-03-05T13:52:48Z","BatchJobStepName":"qoEdoeRcm"},{"Company":"QSQkbh","DClocation":"rcwlclJp","EAN":"twLb","StockCategoryCode":"FJVKtKSWG","StockDate":"1957-03-02T02:52:18Z","AvailableQuantity":"6","OnPOOrderQuantity":"5","InTransitQuantity":"2","TransferQuantity":"3","OnSOQuantity":"7","OnDeliveryQuantity":"3","PackedQuantity":"3","BlockedQuantity":"1","ReservedQuantity":"6","InspectionQuantity":"5","StockLevelInd":"GsXreAg","PAPQuantity":"8","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"10","Material":"uauNh","Season":"OrSb","Brand":"nzSPlL","Size":"HissCrTE","Width":"PLTiEju","JobDateTimeStamp":"1990-06-02T16:48:45Z","BatchJobStepName":"acWyEG"}]}'
  - '{"Test":[{"Company":"tKOoMFRHoH","DClocation":"OAlKeYa","EAN":"bMlZXoxjeG","StockCategoryCode":"hlrWib","StockDate":"2011-10-07T08:04:13Z","AvailableQuantity":"1","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"9","OnSOQuantity":"8","OnDeliveryQuantity":"4","PackedQuantity":"2","BlockedQuantity":"6","ReservedQuantity":"3","InspectionQuantity":"1","StockLevelInd":"DQbpNDd","PAPQuantity":"6","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"7","Material":"BGSSo","Season":"IBAxHREa","Brand":"PlFgb","Size":"YYrN","Width":"QahLEX","JobDateTimeStamp":"1930-07-01T06:11:30Z","BatchJobStepName":"bDXnGgNZ"},{"Company":"elVyOnL","DClocation":"ihrtWi","EAN":"hVJTyJt","StockCategoryCode":"tMLX","StockDate":"1976-10-29T02:38:12Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"9","TransferQuantity":"9","OnSOQuantity":"2","OnDeliveryQuantity":"6","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"2","InspectionQuantity":"10","StockLevelInd":"FYyhO","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"10","Material":"ODcAlVwY","Season":"YGtCQ","Brand":"ccnPLvoyo","Size":"kNjkWZ","Width":"uRRzqpC","JobDateTimeStamp":"1986-05-22T01:34:48Z","BatchJobStepName":"isMpJRU"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"uEccMsyze","DClocation":"SLuQzm","EAN":"LVDavZpZ","StockCategoryCode":"KByCF","StockDate":"1961-03-18T16:18:50Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"9","TransferQuantity":"6","OnSOQuantity":"6","OnDeliveryQuantity":"9","PackedQuantity":"9","BlockedQuantity":"6","ReservedQuantity":"3","InspectionQuantity":"9","StockLevelInd":"UnDbHdjYG","PAPQuantity":"1","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"9","Material":"YHKbcGxx","Season":"ikVqE","Brand":"hIJg","Size":"qqYcPk","Width":"dAVeiO","JobDateTimeStamp":"2013-06-28T07:45:06Z","BatchJobStepName":"PVCZoUVr"},{"Company":"SEpe","DClocation":"OuRwQUDlSD","EAN":"owVDXwE","StockCategoryCode":"rHQXmmnCSU","StockDate":"1923-01-26T14:22:59Z","AvailableQuantity":"2","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"2","OnSOQuantity":"1","OnDeliveryQuantity":"7","PackedQuantity":"9","BlockedQuantity":"4","ReservedQuantity":"2","InspectionQuantity":"4","StockLevelInd":"zZkcQEQ","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"3","Material":"JxCDb","Season":"RIhwXX","Brand":"UGNkHcGgmi","Size":"mdMaUhJ","Width":"mCVT","JobDateTimeStamp":"1929-04-27T19:09:40Z","BatchJobStepName":"FwIwfBLc"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"EGgTrhTDec","DClocation":"gNzhPme","EAN":"WJomIFWO","StockCategoryCode":"hOPT","StockDate":"2020-10-12T13:10:30Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"8","TransferQuantity":"9","OnSOQuantity":"1","OnDeliveryQuantity":"3","PackedQuantity":"10","BlockedQuantity":"9","ReservedQuantity":"2","InspectionQuantity":"5","StockLevelInd":"SIbKzC","PAPQuantity":"4","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"qNcRihVS","Season":"Qkow","Brand":"JWNiZJt","Size":"nYpXb","Width":"riyLk","JobDateTimeStamp":"2015-03-05T13:52:48Z","BatchJobStepName":"qoEdoeRcm"},{"Company":"QSQkbh","DClocation":"rcwlclJp","EAN":"twLb","StockCategoryCode":"FJVKtKSWG","StockDate":"1957-03-02T02:52:18Z","AvailableQuantity":"6","OnPOOrderQuantity":"5","InTransitQuantity":"2","TransferQuantity":"3","OnSOQuantity":"7","OnDeliveryQuantity":"3","PackedQuantity":"3","BlockedQuantity":"1","ReservedQuantity":"6","InspectionQuantity":"5","StockLevelInd":"GsXreAg","PAPQuantity":"8","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"10","Material":"uauNh","Season":"OrSb","Brand":"nzSPlL","Size":"HissCrTE","Width":"PLTiEju","JobDateTimeStamp":"1990-06-02T16:48:45Z","BatchJobStepName":"acWyEG"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"tKOoMFRHoH","DClocation":"OAlKeYa","EAN":"bMlZXoxjeG","StockCategoryCode":"hlrWib","StockDate":"2011-10-07T08:04:13Z","AvailableQuantity":"1","OnPOOrderQuantity":"3","InTransitQuantity":"3","TransferQuantity":"9","OnSOQuantity":"8","OnDeliveryQuantity":"4","PackedQuantity":"2","BlockedQuantity":"6","ReservedQuantity":"3","InspectionQuantity":"1","StockLevelInd":"DQbpNDd","PAPQuantity":"6","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"7","Material":"BGSSo","Season":"IBAxHREa","Brand":"PlFgb","Size":"YYrN","Width":"QahLEX","JobDateTimeStamp":"1930-07-01T06:11:30Z","BatchJobStepName":"bDXnGgNZ"},{"Company":"elVyOnL","DClocation":"ihrtWi","EAN":"hVJTyJt","StockCategoryCode":"tMLX","StockDate":"1976-10-29T02:38:12Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"9","TransferQuantity":"9","OnSOQuantity":"2","OnDeliveryQuantity":"6","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"2","InspectionQuantity":"10","StockLevelInd":"FYyhO","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"10","Material":"ODcAlVwY","Season":"YGtCQ","Brand":"ccnPLvoyo","Size":"kNjkWZ","Width":"uRRzqpC","JobDateTimeStamp":"1986-05-22T01:34:48Z","BatchJobStepName":"isMpJRU"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1961-03-18 16:18:50 +0000 UTC-LVDavZpZ-uEccMsyze-SLuQzm
      expect_outputs:
      - true
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRUdnVHJoVERlYyIsIkRDbG9jYXRpb24iOiJnTnpoUG1lIiwiRUFOIjoiV0pvbUlGV08iLCJTdG9ja0NhdGVnb3J5Q29kZSI6ImhPUFQiLCJTdG9ja0RhdGUiOiIyMDIwLTEwLTEyVDEzOjEwOjMwWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiNiIsIk9uUE9PcmRlclF1YW50aXR5IjoiMSIsIkluVHJhbnNpdFF1YW50aXR5IjoiOCIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiMSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjMiLCJQYWNrZWRRdWFudGl0eSI6IjEwIiwiQmxvY2tlZFF1YW50aXR5IjoiOSIsIlJlc2VydmVkUXVhbnRpdHkiOiIyIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiNSIsIlN0b2NrTGV2ZWxJbmQiOiJTSWJLekMiLCJQQVBRdWFudGl0eSI6IjQiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIzIiwiTWF0ZXJpYWwiOiJxTmNSaWhWUyIsIlNlYXNvbiI6IlFrb3ciLCJCcmFuZCI6IkpXTmlaSnQiLCJTaXplIjoibllwWGIiLCJXaWR0aCI6InJpeUxrIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjIwMTUtMDMtMDVUMTM6NTI6NDhaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6InFvRWRvZVJjbSJ9LHsiQ29tcGFueSI6IlFTUWtiaCIsIkRDbG9jYXRpb24iOiJyY3dsY2xKcCIsIkVBTiI6InR3TGIiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkZKVkt0S1NXRyIsIlN0b2NrRGF0ZSI6IjE5NTctMDMtMDJUMDI6NTI6MThaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI2IiwiT25QT09yZGVyUXVhbnRpdHkiOiI1IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiVHJhbnNmZXJRdWFudGl0eSI6IjMiLCJPblNPUXVhbnRpdHkiOiI3IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiMyIsIlBhY2tlZFF1YW50aXR5IjoiMyIsIkJsb2NrZWRRdWFudGl0eSI6IjEiLCJSZXNlcnZlZFF1YW50aXR5IjoiNiIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjUiLCJTdG9ja0xldmVsSW5kIjoiR3NYcmVBZyIsIlBBUFF1YW50aXR5IjoiOCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjEwIiwiTWF0ZXJpYWwiOiJ1YXVOaCIsIlNlYXNvbiI6Ik9yU2IiLCJCcmFuZCI6Im56U1BsTCIsIlNpemUiOiJIaXNzQ3JURSIsIldpZHRoIjoiUExUaUVqdSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTkwLTA2LTAyVDE2OjQ4OjQ1WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJhY1d5RUcifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoidEtPb01GUkhvSCIsIkRDbG9jYXRpb24iOiJPQWxLZVlhIiwiRUFOIjoiYk1sWlhveGplRyIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiaGxyV2liIiwiU3RvY2tEYXRlIjoiMjAxMS0xMC0wN1QwODowNDoxM1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjEiLCJPblBPT3JkZXJRdWFudGl0eSI6IjMiLCJJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJUcmFuc2ZlclF1YW50aXR5IjoiOSIsIk9uU09RdWFudGl0eSI6IjgiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI0IiwiUGFja2VkUXVhbnRpdHkiOiIyIiwiQmxvY2tlZFF1YW50aXR5IjoiNiIsIlJlc2VydmVkUXVhbnRpdHkiOiIzIiwiSW5zcGVjdGlvblF1YW50aXR5IjoiMSIsIlN0b2NrTGV2ZWxJbmQiOiJEUWJwTkRkIiwiUEFQUXVhbnRpdHkiOiI2IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI4IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNyIsIk1hdGVyaWFsIjoiQkdTU28iLCJTZWFzb24iOiJJQkF4SFJFYSIsIkJyYW5kIjoiUGxGZ2IiLCJTaXplIjoiWVlyTiIsIldpZHRoIjoiUWFoTEVYIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MzAtMDctMDFUMDY6MTE6MzBaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6ImJEWG5HZ05aIn0seyJDb21wYW55IjoiZWxWeU9uTCIsIkRDbG9jYXRpb24iOiJpaHJ0V2kiLCJFQU4iOiJoVkpUeUp0IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJ0TUxYIiwiU3RvY2tEYXRlIjoiMTk3Ni0xMC0yOVQwMjozODoxMloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjEiLCJJblRyYW5zaXRRdWFudGl0eSI6IjkiLCJUcmFuc2ZlclF1YW50aXR5IjoiOSIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI2IiwiUGFja2VkUXVhbnRpdHkiOiIyIiwiQmxvY2tlZFF1YW50aXR5IjoiMTAiLCJSZXNlcnZlZFF1YW50aXR5IjoiMiIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjEwIiwiU3RvY2tMZXZlbEluZCI6IkZZeWhPIiwiUEFQUXVhbnRpdHkiOiI1IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMTAiLCJNYXRlcmlhbCI6Ik9EY0FsVndZIiwiU2Vhc29uIjoiWUd0Q1EiLCJCcmFuZCI6ImNjblBMdm95byIsIlNpemUiOiJrTmprV1oiLCJXaWR0aCI6InVSUnpxcEMiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk4Ni0wNS0yMlQwMTozNDo0OFoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiaXNNcEpSVSJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Repository - EntityExists : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"vFBWTHtna","DClocation":"wdUG","EAN":"YurHZ","StockCategoryCode":"twtbiiEMS","StockDate":"1963-10-13T21:46:52Z","AvailableQuantity":"7","OnPOOrderQuantity":"8","InTransitQuantity":"6","TransferQuantity":"5","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"5","BlockedQuantity":"1","ReservedQuantity":"6","InspectionQuantity":"7","StockLevelInd":"HjyctMDbLD","PAPQuantity":"1","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"5","Material":"SQLT","Season":"vDbI","Brand":"oPXqis","Size":"VkEMjXbLQ","Width":"ybLEy","JobDateTimeStamp":"1930-11-28T00:36:34Z","BatchJobStepName":"NyghH"},{"Company":"lhggfjphK","DClocation":"jxJhBXXDz","EAN":"ndUsNvKnKC","StockCategoryCode":"Pfaj","StockDate":"1932-05-19T08:38:02Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"2","TransferQuantity":"4","OnSOQuantity":"6","OnDeliveryQuantity":"8","PackedQuantity":"5","BlockedQuantity":"5","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"qNyURbeK","PAPQuantity":"3","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"3","Material":"MUeD","Season":"hPMwxwI","Brand":"oHURuG","Size":"jStlgYkra","Width":"qcqlZKZni","JobDateTimeStamp":"1929-02-15T17:13:02Z","BatchJobStepName":"eWLSbO"}]'
  - '{"Test":[{"Company":"cYbLlQMszg","DClocation":"vZwBJK","EAN":"FIlySt","StockCategoryCode":"MSBQOskHg","StockDate":"1950-09-15T05:06:14Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"5","OnSOQuantity":"8","OnDeliveryQuantity":"5","PackedQuantity":"9","BlockedQuantity":"5","ReservedQuantity":"3","InspectionQuantity":"10","StockLevelInd":"dPkwn","PAPQuantity":"9","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"3","Material":"mEhiSZgYI","Season":"sgrGd","Brand":"wsKRNJP","Size":"MiIzeFu","Width":"jmIIiNjWF","JobDateTimeStamp":"1910-02-11T17:45:15Z","BatchJobStepName":"FgGr"},{"Company":"SDsbeX","DClocation":"yeEqsO","EAN":"EBSe","StockCategoryCode":"PqmePC","StockDate":"1997-01-27T17:46:06Z","AvailableQuantity":"8","OnPOOrderQuantity":"8","InTransitQuantity":"4","TransferQuantity":"10","OnSOQuantity":"6","OnDeliveryQuantity":"7","PackedQuantity":"10","BlockedQuantity":"3","ReservedQuantity":"2","InspectionQuantity":"1","StockLevelInd":"SxFtPjTN","PAPQuantity":"6","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"7","Material":"JpeR","Season":"evgyU","Brand":"ckNK","Size":"MIxmUSZvF","Width":"FzAGj","JobDateTimeStamp":"1911-07-06T08:41:18Z","BatchJobStepName":"LjVshzT"}]}'
  - '{"Test":[{"Company":"EfJFtEfA","DClocation":"AAia","EAN":"FXYB","StockCategoryCode":"QyVQz","StockDate":"1982-06-02T23:39:42Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"1","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"4","PackedQuantity":"1","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"GvGcA","PAPQuantity":"9","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"5","Material":"BsVVjxWqy","Season":"XvCr","Brand":"eGHdySdxr","Size":"lTfFsECDUs","Width":"LqfnO","JobDateTimeStamp":"1970-03-13T21:16:01Z","BatchJobStepName":"bdhiWAesTS"},{"Company":"ZBCOQMKn","DClocation":"NLYJcYYDcH","EAN":"tvgiVeLLrm","StockCategoryCode":"bjRTj","StockDate":"1900-11-24T22:59:45Z","AvailableQuantity":"10","OnPOOrderQuantity":"9","InTransitQuantity":"10","TransferQuantity":"5","OnSOQuantity":"1","OnDeliveryQuantity":"6","PackedQuantity":"5","BlockedQuantity":"2","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"sbcNkGV","PAPQuantity":"8","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"dKzBY","Season":"tsCBuupHw","Brand":"EHppkBrQ","Size":"urNLiifxc","Width":"XfAuSSYr","JobDateTimeStamp":"1981-08-16T06:08:25Z","BatchJobStepName":"BaOl"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"vFBWTHtna","DClocation":"wdUG","EAN":"YurHZ","StockCategoryCode":"twtbiiEMS","StockDate":"1963-10-13T21:46:52Z","AvailableQuantity":"7","OnPOOrderQuantity":"8","InTransitQuantity":"6","TransferQuantity":"5","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"5","BlockedQuantity":"1","ReservedQuantity":"6","InspectionQuantity":"7","StockLevelInd":"HjyctMDbLD","PAPQuantity":"1","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"5","Material":"SQLT","Season":"vDbI","Brand":"oPXqis","Size":"VkEMjXbLQ","Width":"ybLEy","JobDateTimeStamp":"1930-11-28T00:36:34Z","BatchJobStepName":"NyghH"},{"Company":"lhggfjphK","DClocation":"jxJhBXXDz","EAN":"ndUsNvKnKC","StockCategoryCode":"Pfaj","StockDate":"1932-05-19T08:38:02Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"2","TransferQuantity":"4","OnSOQuantity":"6","OnDeliveryQuantity":"8","PackedQuantity":"5","BlockedQuantity":"5","ReservedQuantity":"2","InspectionQuantity":"9","StockLevelInd":"qNyURbeK","PAPQuantity":"3","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"3","Material":"MUeD","Season":"hPMwxwI","Brand":"oHURuG","Size":"jStlgYkra","Width":"qcqlZKZni","JobDateTimeStamp":"1929-02-15T17:13:02Z","BatchJobStepName":"eWLSbO"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"cYbLlQMszg","DClocation":"vZwBJK","EAN":"FIlySt","StockCategoryCode":"MSBQOskHg","StockDate":"1950-09-15T05:06:14Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"2","TransferQuantity":"5","OnSOQuantity":"8","OnDeliveryQuantity":"5","PackedQuantity":"9","BlockedQuantity":"5","ReservedQuantity":"3","InspectionQuantity":"10","StockLevelInd":"dPkwn","PAPQuantity":"9","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"3","Material":"mEhiSZgYI","Season":"sgrGd","Brand":"wsKRNJP","Size":"MiIzeFu","Width":"jmIIiNjWF","JobDateTimeStamp":"1910-02-11T17:45:15Z","BatchJobStepName":"FgGr"},{"Company":"SDsbeX","DClocation":"yeEqsO","EAN":"EBSe","StockCategoryCode":"PqmePC","StockDate":"1997-01-27T17:46:06Z","AvailableQuantity":"8","OnPOOrderQuantity":"8","InTransitQuantity":"4","TransferQuantity":"10","OnSOQuantity":"6","OnDeliveryQuantity":"7","PackedQuantity":"10","BlockedQuantity":"3","ReservedQuantity":"2","InspectionQuantity":"1","StockLevelInd":"SxFtPjTN","PAPQuantity":"6","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"7","Material":"JpeR","Season":"evgyU","Brand":"ckNK","Size":"MIxmUSZvF","Width":"FzAGj","JobDateTimeStamp":"1911-07-06T08:41:18Z","BatchJobStepName":"LjVshzT"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"EfJFtEfA","DClocation":"AAia","EAN":"FXYB","StockCategoryCode":"QyVQz","StockDate":"1982-06-02T23:39:42Z","AvailableQuantity":"6","OnPOOrderQuantity":"1","InTransitQuantity":"1","TransferQuantity":"10","OnSOQuantity":"5","OnDeliveryQuantity":"4","PackedQuantity":"1","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"GvGcA","PAPQuantity":"9","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"5","Material":"BsVVjxWqy","Season":"XvCr","Brand":"eGHdySdxr","Size":"lTfFsECDUs","Width":"LqfnO","JobDateTimeStamp":"1970-03-13T21:16:01Z","BatchJobStepName":"bdhiWAesTS"},{"Company":"ZBCOQMKn","DClocation":"NLYJcYYDcH","EAN":"tvgiVeLLrm","StockCategoryCode":"bjRTj","StockDate":"1900-11-24T22:59:45Z","AvailableQuantity":"10","OnPOOrderQuantity":"9","InTransitQuantity":"10","TransferQuantity":"5","OnSOQuantity":"1","OnDeliveryQuantity":"6","PackedQuantity":"5","BlockedQuantity":"2","ReservedQuantity":"4","InspectionQuantity":"2","StockLevelInd":"sbcNkGV","PAPQuantity":"8","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"dKzBY","Season":"tsCBuupHw","Brand":"EHppkBrQ","Size":"urNLiifxc","Width":"XfAuSSYr","JobDateTimeStamp":"1981-08-16T06:08:25Z","BatchJobStepName":"BaOl"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1963-10-13 21:46:52 +0000 UTC-YurHZ-vFBWTHtna-wdUG
      expect_outputs:
      - true
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiY1liTGxRTXN6ZyIsIkRDbG9jYXRpb24iOiJ2WndCSksiLCJFQU4iOiJGSWx5U3QiLCJTdG9ja0NhdGVnb3J5Q29kZSI6Ik1TQlFPc2tIZyIsIlN0b2NrRGF0ZSI6IjE5NTAtMDktMTVUMDU6MDY6MTRaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiI0IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiVHJhbnNmZXJRdWFudGl0eSI6IjUiLCJPblNPUXVhbnRpdHkiOiI4IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNSIsIlBhY2tlZFF1YW50aXR5IjoiOSIsIkJsb2NrZWRRdWFudGl0eSI6IjUiLCJSZXNlcnZlZFF1YW50aXR5IjoiMyIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjEwIiwiU3RvY2tMZXZlbEluZCI6ImRQa3duIiwiUEFQUXVhbnRpdHkiOiI5IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMyIsIk1hdGVyaWFsIjoibUVoaVNaZ1lJIiwiU2Vhc29uIjoic2dyR2QiLCJCcmFuZCI6IndzS1JOSlAiLCJTaXplIjoiTWlJemVGdSIsIldpZHRoIjoiam1JSWlOaldGIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MTAtMDItMTFUMTc6NDU6MTVaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkZnR3IifSx7IkNvbXBhbnkiOiJTRHNiZVgiLCJEQ2xvY2F0aW9uIjoieWVFcXNPIiwiRUFOIjoiRUJTZSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiUHFtZVBDIiwiU3RvY2tEYXRlIjoiMTk5Ny0wMS0yN1QxNzo0NjowNloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjgiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjQiLCJUcmFuc2ZlclF1YW50aXR5IjoiMTAiLCJPblNPUXVhbnRpdHkiOiI2IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNyIsIlBhY2tlZFF1YW50aXR5IjoiMTAiLCJCbG9ja2VkUXVhbnRpdHkiOiIzIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjIiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIxIiwiU3RvY2tMZXZlbEluZCI6IlN4RnRQalROIiwiUEFQUXVhbnRpdHkiOiI2IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIzIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNyIsIk1hdGVyaWFsIjoiSnBlUiIsIlNlYXNvbiI6ImV2Z3lVIiwiQnJhbmQiOiJja05LIiwiU2l6ZSI6Ik1JeG1VU1p2RiIsIldpZHRoIjoiRnpBR2oiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTkxMS0wNy0wNlQwODo0MToxOFoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiTGpWc2h6VCJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRWZKRnRFZkEiLCJEQ2xvY2F0aW9uIjoiQUFpYSIsIkVBTiI6IkZYWUIiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IlF5VlF6IiwiU3RvY2tEYXRlIjoiMTk4Mi0wNi0wMlQyMzozOTo0MloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjEiLCJJblRyYW5zaXRRdWFudGl0eSI6IjEiLCJUcmFuc2ZlclF1YW50aXR5IjoiMTAiLCJPblNPUXVhbnRpdHkiOiI1IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNCIsIlBhY2tlZFF1YW50aXR5IjoiMSIsIkJsb2NrZWRRdWFudGl0eSI6IjMiLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoiR3ZHY0EiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjEwIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNSIsIk1hdGVyaWFsIjoiQnNWVmp4V3F5IiwiU2Vhc29uIjoiWHZDciIsIkJyYW5kIjoiZUdIZHlTZHhyIiwiU2l6ZSI6ImxUZkZzRUNEVXMiLCJXaWR0aCI6IkxxZm5PIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5NzAtMDMtMTNUMjE6MTY6MDFaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6ImJkaGlXQWVzVFMifSx7IkNvbXBhbnkiOiJaQkNPUU1LbiIsIkRDbG9jYXRpb24iOiJOTFlKY1lZRGNIIiwiRUFOIjoidHZnaVZlTExybSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiYmpSVGoiLCJTdG9ja0RhdGUiOiIxOTAwLTExLTI0VDIyOjU5OjQ1WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMTAiLCJPblBPT3JkZXJRdWFudGl0eSI6IjkiLCJJblRyYW5zaXRRdWFudGl0eSI6IjEwIiwiVHJhbnNmZXJRdWFudGl0eSI6IjUiLCJPblNPUXVhbnRpdHkiOiIxIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNiIsIlBhY2tlZFF1YW50aXR5IjoiNSIsIkJsb2NrZWRRdWFudGl0eSI6IjIiLCJSZXNlcnZlZFF1YW50aXR5IjoiNCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoic2JjTmtHViIsIlBBUFF1YW50aXR5IjoiOCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNyIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjYiLCJNYXRlcmlhbCI6ImRLekJZIiwiU2Vhc29uIjoidHNDQnV1cEh3IiwiQnJhbmQiOiJFSHBwa0JyUSIsIlNpemUiOiJ1ck5MaWlmeGMiLCJXaWR0aCI6IlhmQXVTU1lyIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5ODEtMDgtMTZUMDY6MDg6MjVaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IkJhT2wifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Repository - EntityExists : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"XRQk","DClocation":"cbwDQ","EAN":"tebg","StockCategoryCode":"AjyJ","StockDate":"1956-10-03T18:30:41Z","AvailableQuantity":"1","OnPOOrderQuantity":"1","InTransitQuantity":"8","TransferQuantity":"5","OnSOQuantity":"7","OnDeliveryQuantity":"8","PackedQuantity":"6","BlockedQuantity":"7","ReservedQuantity":"1","InspectionQuantity":"4","StockLevelInd":"ighMo","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"9","Material":"RpVZKPbI","Season":"DYufW","Brand":"NeuHY","Size":"cHwsKEhcx","Width":"MeHn","JobDateTimeStamp":"1924-07-25T07:18:25Z","BatchJobStepName":"tSrGw"},{"Company":"ABdch","DClocation":"aJqngJCp","EAN":"LrDWzKBaby","StockCategoryCode":"nLnmNXU","StockDate":"1997-06-05T18:40:46Z","AvailableQuantity":"5","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"2","OnSOQuantity":"6","OnDeliveryQuantity":"4","PackedQuantity":"4","BlockedQuantity":"6","ReservedQuantity":"9","InspectionQuantity":"1","StockLevelInd":"foUxTv","PAPQuantity":"7","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"7","Material":"KnnGBwQ","Season":"UYFnzJd","Brand":"FSGbmx","Size":"KgboCT","Width":"xXszqbymrU","JobDateTimeStamp":"1955-02-10T18:15:55Z","BatchJobStepName":"NmTpNpVGH"}]'
  - '{"Test":[{"Company":"OQVOlhi","DClocation":"otjBDD","EAN":"nPNKENKWS","StockCategoryCode":"CTngXv","StockDate":"1964-10-16T06:23:36Z","AvailableQuantity":"9","OnPOOrderQuantity":"3","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"1","OnDeliveryQuantity":"8","PackedQuantity":"1","BlockedQuantity":"8","ReservedQuantity":"3","InspectionQuantity":"3","StockLevelInd":"AhHs","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"ApVILgbNX","Season":"wBNUH","Brand":"STqX","Size":"WpSCLNjNL","Width":"Ajnabk","JobDateTimeStamp":"1997-12-26T10:21:26Z","BatchJobStepName":"OoHhAp"},{"Company":"DVrIOs","DClocation":"MVArWE","EAN":"tccRSThSBv","StockCategoryCode":"PUkL","StockDate":"1928-06-27T06:35:58Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"4","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"6","BlockedQuantity":"8","ReservedQuantity":"9","InspectionQuantity":"2","StockLevelInd":"mcBueRAVBO","PAPQuantity":"10","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"rlwHPBbcR","Season":"OhENKkZpT","Brand":"CflSPJ","Size":"XYEnF","Width":"unjQsQh","JobDateTimeStamp":"1926-07-18T15:16:47Z","BatchJobStepName":"ZcWQtzrk"}]}'
  - '{"Test":[{"Company":"GRjWAwf","DClocation":"RLERl","EAN":"VEWfS","StockCategoryCode":"DpVPpNuwU","StockDate":"1975-08-09T07:19:08Z","AvailableQuantity":"2","OnPOOrderQuantity":"5","InTransitQuantity":"3","TransferQuantity":"2","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"9","ReservedQuantity":"2","InspectionQuantity":"6","StockLevelInd":"GNbYUNy","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"4","Material":"DcpsXuDzW","Season":"sYRNKZmzfy","Brand":"wWnovcId","Size":"vOwm","Width":"wmbQC","JobDateTimeStamp":"2002-12-11T23:55:34Z","BatchJobStepName":"ZUHhXWKxbG"},{"Company":"KmNqfexd","DClocation":"ZTdZlEEcXb","EAN":"NJvSwrM","StockCategoryCode":"RPdhGIBWN","StockDate":"1910-03-27T14:39:47Z","AvailableQuantity":"6","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"3","OnSOQuantity":"2","OnDeliveryQuantity":"9","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"pxLsnHXh","PAPQuantity":"7","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"4","Material":"PZuJ","Season":"WTnA","Brand":"EoxHg","Size":"BWDKh","Width":"rFRKkc","JobDateTimeStamp":"1948-01-27T18:41:20Z","BatchJobStepName":"UEbX"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"XRQk","DClocation":"cbwDQ","EAN":"tebg","StockCategoryCode":"AjyJ","StockDate":"1956-10-03T18:30:41Z","AvailableQuantity":"1","OnPOOrderQuantity":"1","InTransitQuantity":"8","TransferQuantity":"5","OnSOQuantity":"7","OnDeliveryQuantity":"8","PackedQuantity":"6","BlockedQuantity":"7","ReservedQuantity":"1","InspectionQuantity":"4","StockLevelInd":"ighMo","PAPQuantity":"7","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"9","Material":"RpVZKPbI","Season":"DYufW","Brand":"NeuHY","Size":"cHwsKEhcx","Width":"MeHn","JobDateTimeStamp":"1924-07-25T07:18:25Z","BatchJobStepName":"tSrGw"},{"Company":"ABdch","DClocation":"aJqngJCp","EAN":"LrDWzKBaby","StockCategoryCode":"nLnmNXU","StockDate":"1997-06-05T18:40:46Z","AvailableQuantity":"5","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"2","OnSOQuantity":"6","OnDeliveryQuantity":"4","PackedQuantity":"4","BlockedQuantity":"6","ReservedQuantity":"9","InspectionQuantity":"1","StockLevelInd":"foUxTv","PAPQuantity":"7","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"7","Material":"KnnGBwQ","Season":"UYFnzJd","Brand":"FSGbmx","Size":"KgboCT","Width":"xXszqbymrU","JobDateTimeStamp":"1955-02-10T18:15:55Z","BatchJobStepName":"NmTpNpVGH"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"OQVOlhi","DClocation":"otjBDD","EAN":"nPNKENKWS","StockCategoryCode":"CTngXv","StockDate":"1964-10-16T06:23:36Z","AvailableQuantity":"9","OnPOOrderQuantity":"3","InTransitQuantity":"4","TransferQuantity":"8","OnSOQuantity":"1","OnDeliveryQuantity":"8","PackedQuantity":"1","BlockedQuantity":"8","ReservedQuantity":"3","InspectionQuantity":"3","StockLevelInd":"AhHs","PAPQuantity":"5","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"ApVILgbNX","Season":"wBNUH","Brand":"STqX","Size":"WpSCLNjNL","Width":"Ajnabk","JobDateTimeStamp":"1997-12-26T10:21:26Z","BatchJobStepName":"OoHhAp"},{"Company":"DVrIOs","DClocation":"MVArWE","EAN":"tccRSThSBv","StockCategoryCode":"PUkL","StockDate":"1928-06-27T06:35:58Z","AvailableQuantity":"6","OnPOOrderQuantity":"7","InTransitQuantity":"1","TransferQuantity":"4","OnSOQuantity":"2","OnDeliveryQuantity":"10","PackedQuantity":"6","BlockedQuantity":"8","ReservedQuantity":"9","InspectionQuantity":"2","StockLevelInd":"mcBueRAVBO","PAPQuantity":"10","PAPInTransitQuantity":"4","OpenOnSalesOrderQuantity":"3","Material":"rlwHPBbcR","Season":"OhENKkZpT","Brand":"CflSPJ","Size":"XYEnF","Width":"unjQsQh","JobDateTimeStamp":"1926-07-18T15:16:47Z","BatchJobStepName":"ZcWQtzrk"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"GRjWAwf","DClocation":"RLERl","EAN":"VEWfS","StockCategoryCode":"DpVPpNuwU","StockDate":"1975-08-09T07:19:08Z","AvailableQuantity":"2","OnPOOrderQuantity":"5","InTransitQuantity":"3","TransferQuantity":"2","OnSOQuantity":"5","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"9","ReservedQuantity":"2","InspectionQuantity":"6","StockLevelInd":"GNbYUNy","PAPQuantity":"10","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"4","Material":"DcpsXuDzW","Season":"sYRNKZmzfy","Brand":"wWnovcId","Size":"vOwm","Width":"wmbQC","JobDateTimeStamp":"2002-12-11T23:55:34Z","BatchJobStepName":"ZUHhXWKxbG"},{"Company":"KmNqfexd","DClocation":"ZTdZlEEcXb","EAN":"NJvSwrM","StockCategoryCode":"RPdhGIBWN","StockDate":"1910-03-27T14:39:47Z","AvailableQuantity":"6","OnPOOrderQuantity":"10","InTransitQuantity":"9","TransferQuantity":"3","OnSOQuantity":"2","OnDeliveryQuantity":"9","PackedQuantity":"2","BlockedQuantity":"10","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"pxLsnHXh","PAPQuantity":"7","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"4","Material":"PZuJ","Season":"WTnA","Brand":"EoxHg","Size":"BWDKh","Width":"rFRKkc","JobDateTimeStamp":"1948-01-27T18:41:20Z","BatchJobStepName":"UEbX"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1956-10-03 18:30:41 +0000 UTC-tebg-XRQk-cbwDQ
      expect_outputs:
      - true
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiT1FWT2xoaSIsIkRDbG9jYXRpb24iOiJvdGpCREQiLCJFQU4iOiJuUE5LRU5LV1MiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkNUbmdYdiIsIlN0b2NrRGF0ZSI6IjE5NjQtMTAtMTZUMDY6MjM6MzZaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiI5IiwiT25QT09yZGVyUXVhbnRpdHkiOiIzIiwiSW5UcmFuc2l0UXVhbnRpdHkiOiI0IiwiVHJhbnNmZXJRdWFudGl0eSI6IjgiLCJPblNPUXVhbnRpdHkiOiIxIiwiT25EZWxpdmVyeVF1YW50aXR5IjoiOCIsIlBhY2tlZFF1YW50aXR5IjoiMSIsIkJsb2NrZWRRdWFudGl0eSI6IjgiLCJSZXNlcnZlZFF1YW50aXR5IjoiMyIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoiQWhIcyIsIlBBUFF1YW50aXR5IjoiNSIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjMiLCJNYXRlcmlhbCI6IkFwVklMZ2JOWCIsIlNlYXNvbiI6IndCTlVIIiwiQnJhbmQiOiJTVHFYIiwiU2l6ZSI6IldwU0NMTmpOTCIsIldpZHRoIjoiQWpuYWJrIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5OTctMTItMjZUMTA6MjE6MjZaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6Ik9vSGhBcCJ9LHsiQ29tcGFueSI6IkRWcklPcyIsIkRDbG9jYXRpb24iOiJNVkFyV0UiLCJFQU4iOiJ0Y2NSU1RoU0J2IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJQVWtMIiwiU3RvY2tEYXRlIjoiMTkyOC0wNi0yN1QwNjozNTo1OFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjciLCJJblRyYW5zaXRRdWFudGl0eSI6IjEiLCJUcmFuc2ZlclF1YW50aXR5IjoiNCIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiIxMCIsIlBhY2tlZFF1YW50aXR5IjoiNiIsIkJsb2NrZWRRdWFudGl0eSI6IjgiLCJSZXNlcnZlZFF1YW50aXR5IjoiOSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjIiLCJTdG9ja0xldmVsSW5kIjoibWNCdWVSQVZCTyIsIlBBUFF1YW50aXR5IjoiMTAiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjQiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiIzIiwiTWF0ZXJpYWwiOiJybHdIUEJiY1IiLCJTZWFzb24iOiJPaEVOS2tacFQiLCJCcmFuZCI6IkNmbFNQSiIsIlNpemUiOiJYWUVuRiIsIldpZHRoIjoidW5qUXNRaCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTI2LTA3LTE4VDE1OjE2OjQ3WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJaY1dRdHpyayJ9XX0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiR1JqV0F3ZiIsIkRDbG9jYXRpb24iOiJSTEVSbCIsIkVBTiI6IlZFV2ZTIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJEcFZQcE51d1UiLCJTdG9ja0RhdGUiOiIxOTc1LTA4LTA5VDA3OjE5OjA4WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMiIsIk9uUE9PcmRlclF1YW50aXR5IjoiNSIsIkluVHJhbnNpdFF1YW50aXR5IjoiMyIsIlRyYW5zZmVyUXVhbnRpdHkiOiIyIiwiT25TT1F1YW50aXR5IjoiNSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjUiLCJQYWNrZWRRdWFudGl0eSI6IjYiLCJCbG9ja2VkUXVhbnRpdHkiOiI5IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjIiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI2IiwiU3RvY2tMZXZlbEluZCI6IkdOYllVTnkiLCJQQVBRdWFudGl0eSI6IjEwIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIxIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNCIsIk1hdGVyaWFsIjoiRGNwc1h1RHpXIiwiU2Vhc29uIjoic1lSTktabXpmeSIsIkJyYW5kIjoid1dub3ZjSWQiLCJTaXplIjoidk93bSIsIldpZHRoIjoid21iUUMiLCJKb2JEYXRlVGltZVN0YW1wIjoiMjAwMi0xMi0xMVQyMzo1NTozNFoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiWlVIaFhXS3hiRyJ9LHsiQ29tcGFueSI6IkttTnFmZXhkIiwiRENsb2NhdGlvbiI6IlpUZFpsRUVjWGIiLCJFQU4iOiJOSnZTd3JNIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJSUGRoR0lCV04iLCJTdG9ja0RhdGUiOiIxOTEwLTAzLTI3VDE0OjM5OjQ3WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiNiIsIk9uUE9PcmRlclF1YW50aXR5IjoiMTAiLCJJblRyYW5zaXRRdWFudGl0eSI6IjkiLCJUcmFuc2ZlclF1YW50aXR5IjoiMyIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI5IiwiUGFja2VkUXVhbnRpdHkiOiIyIiwiQmxvY2tlZFF1YW50aXR5IjoiMTAiLCJSZXNlcnZlZFF1YW50aXR5IjoiNSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoicHhMc25IWGgiLCJQQVBRdWFudGl0eSI6IjciLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjgiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI0IiwiTWF0ZXJpYWwiOiJQWnVKIiwiU2Vhc29uIjoiV1RuQSIsIkJyYW5kIjoiRW94SGciLCJTaXplIjoiQldES2giLCJXaWR0aCI6InJGUktrYyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTQ4LTAxLTI3VDE4OjQxOjIwWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJVRWJYIn1dfQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Repository - SaveEntities : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"eJXK","DClocation":"SlRRDkX","EAN":"pzTi","StockCategoryCode":"MeLaZ","StockDate":"1953-05-01T18:49:52Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"4","OnSOQuantity":"5","OnDeliveryQuantity":"4","PackedQuantity":"3","BlockedQuantity":"2","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"sqfpHsDlG","PAPQuantity":"2","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"9","Material":"CtEoftLL","Season":"QKSfJYF","Brand":"WekndFvfQ","Size":"zSCEkcbWGO","Width":"FwrAwmn","JobDateTimeStamp":"1963-01-06T13:05:04Z","BatchJobStepName":"JFrgza"},{"Company":"oaTLqWxhpn","DClocation":"urWVHnNEGr","EAN":"sosKtnv","StockCategoryCode":"crbG","StockDate":"2015-07-26T11:23:20Z","AvailableQuantity":"8","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"6","OnSOQuantity":"8","OnDeliveryQuantity":"5","PackedQuantity":"3","BlockedQuantity":"8","ReservedQuantity":"5","InspectionQuantity":"9","StockLevelInd":"osVRuM","PAPQuantity":"8","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"6","Material":"PwfmGX","Season":"HAISHeo","Brand":"miJAiSkgCf","Size":"WgJRjHFnzM","Width":"ImhnaIsNG","JobDateTimeStamp":"2009-03-28T09:52:38Z","BatchJobStepName":"JIQXMDjhh"}]'
  - '{"Test":[{"Company":"pYFRJWHnNm","DClocation":"BgBdwA","EAN":"AklGqcgxqB","StockCategoryCode":"ZHkueBtrbM","StockDate":"2003-04-06T20:09:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"3","TransferQuantity":"3","OnSOQuantity":"6","OnDeliveryQuantity":"5","PackedQuantity":"1","BlockedQuantity":"6","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"yeUvnczt","PAPQuantity":"3","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"2","Material":"tjBemmVZpc","Season":"uvYj","Brand":"KkaB","Size":"qiVdTXZqIS","Width":"auJmI","JobDateTimeStamp":"1909-11-13T15:23:10Z","BatchJobStepName":"EGHrePnnye"},{"Company":"HmhQAHAt","DClocation":"bualaWtzxa","EAN":"xglGOFdaOu","StockCategoryCode":"JmRXoHndj","StockDate":"1995-02-25T22:15:35Z","AvailableQuantity":"7","OnPOOrderQuantity":"5","InTransitQuantity":"5","TransferQuantity":"7","OnSOQuantity":"9","OnDeliveryQuantity":"10","PackedQuantity":"5","BlockedQuantity":"2","ReservedQuantity":"9","InspectionQuantity":"8","StockLevelInd":"QyQZl","PAPQuantity":"1","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"2","Material":"IMUi","Season":"BmuX","Brand":"jmLkMFeIpE","Size":"vKoWcQ","Width":"nbmO","JobDateTimeStamp":"1932-03-12T05:19:02Z","BatchJobStepName":"zRGTukJNw"}]}'
  - '{"Test":[{"Company":"aJBvvuHki","DClocation":"sLRJwjR","EAN":"gojRnpAiF","StockCategoryCode":"njjWdJpMz","StockDate":"1922-01-18T03:40:28Z","AvailableQuantity":"5","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"4","OnSOQuantity":"6","OnDeliveryQuantity":"9","PackedQuantity":"6","BlockedQuantity":"10","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"hiCcyvo","PAPQuantity":"3","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"ioDi","Season":"BAuSxAbuB","Brand":"ErElUPpDA","Size":"ioNgi","Width":"AdNWihRw","JobDateTimeStamp":"2016-06-03T03:05:14Z","BatchJobStepName":"ejnoNZu"},{"Company":"uKtCyJ","DClocation":"ctNfTn","EAN":"WghS","StockCategoryCode":"sPJERs","StockDate":"1937-01-19T06:01:00Z","AvailableQuantity":"3","OnPOOrderQuantity":"6","InTransitQuantity":"9","TransferQuantity":"1","OnSOQuantity":"9","OnDeliveryQuantity":"10","PackedQuantity":"2","BlockedQuantity":"5","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"vkmRtrFmf","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"10","Material":"zMlIlS","Season":"jGxte","Brand":"SwRnKYvCRw","Size":"SsigCffx","Width":"weXfXM","JobDateTimeStamp":"1958-09-29T03:44:08Z","BatchJobStepName":"woJTLeVb"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"eJXK","DClocation":"SlRRDkX","EAN":"pzTi","StockCategoryCode":"MeLaZ","StockDate":"1953-05-01T18:49:52Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"4","OnSOQuantity":"5","OnDeliveryQuantity":"4","PackedQuantity":"3","BlockedQuantity":"2","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"sqfpHsDlG","PAPQuantity":"2","PAPInTransitQuantity":"5","OpenOnSalesOrderQuantity":"9","Material":"CtEoftLL","Season":"QKSfJYF","Brand":"WekndFvfQ","Size":"zSCEkcbWGO","Width":"FwrAwmn","JobDateTimeStamp":"1963-01-06T13:05:04Z","BatchJobStepName":"JFrgza"},{"Company":"oaTLqWxhpn","DClocation":"urWVHnNEGr","EAN":"sosKtnv","StockCategoryCode":"crbG","StockDate":"2015-07-26T11:23:20Z","AvailableQuantity":"8","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"6","OnSOQuantity":"8","OnDeliveryQuantity":"5","PackedQuantity":"3","BlockedQuantity":"8","ReservedQuantity":"5","InspectionQuantity":"9","StockLevelInd":"osVRuM","PAPQuantity":"8","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"6","Material":"PwfmGX","Season":"HAISHeo","Brand":"miJAiSkgCf","Size":"WgJRjHFnzM","Width":"ImhnaIsNG","JobDateTimeStamp":"2009-03-28T09:52:38Z","BatchJobStepName":"JIQXMDjhh"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"pYFRJWHnNm","DClocation":"BgBdwA","EAN":"AklGqcgxqB","StockCategoryCode":"ZHkueBtrbM","StockDate":"2003-04-06T20:09:31Z","AvailableQuantity":"10","OnPOOrderQuantity":"7","InTransitQuantity":"3","TransferQuantity":"3","OnSOQuantity":"6","OnDeliveryQuantity":"5","PackedQuantity":"1","BlockedQuantity":"6","ReservedQuantity":"8","InspectionQuantity":"2","StockLevelInd":"yeUvnczt","PAPQuantity":"3","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"2","Material":"tjBemmVZpc","Season":"uvYj","Brand":"KkaB","Size":"qiVdTXZqIS","Width":"auJmI","JobDateTimeStamp":"1909-11-13T15:23:10Z","BatchJobStepName":"EGHrePnnye"},{"Company":"HmhQAHAt","DClocation":"bualaWtzxa","EAN":"xglGOFdaOu","StockCategoryCode":"JmRXoHndj","StockDate":"1995-02-25T22:15:35Z","AvailableQuantity":"7","OnPOOrderQuantity":"5","InTransitQuantity":"5","TransferQuantity":"7","OnSOQuantity":"9","OnDeliveryQuantity":"10","PackedQuantity":"5","BlockedQuantity":"2","ReservedQuantity":"9","InspectionQuantity":"8","StockLevelInd":"QyQZl","PAPQuantity":"1","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"2","Material":"IMUi","Season":"BmuX","Brand":"jmLkMFeIpE","Size":"vKoWcQ","Width":"nbmO","JobDateTimeStamp":"1932-03-12T05:19:02Z","BatchJobStepName":"zRGTukJNw"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"aJBvvuHki","DClocation":"sLRJwjR","EAN":"gojRnpAiF","StockCategoryCode":"njjWdJpMz","StockDate":"1922-01-18T03:40:28Z","AvailableQuantity":"5","OnPOOrderQuantity":"5","InTransitQuantity":"6","TransferQuantity":"4","OnSOQuantity":"6","OnDeliveryQuantity":"9","PackedQuantity":"6","BlockedQuantity":"10","ReservedQuantity":"5","InspectionQuantity":"3","StockLevelInd":"hiCcyvo","PAPQuantity":"3","PAPInTransitQuantity":"3","OpenOnSalesOrderQuantity":"3","Material":"ioDi","Season":"BAuSxAbuB","Brand":"ErElUPpDA","Size":"ioNgi","Width":"AdNWihRw","JobDateTimeStamp":"2016-06-03T03:05:14Z","BatchJobStepName":"ejnoNZu"},{"Company":"uKtCyJ","DClocation":"ctNfTn","EAN":"WghS","StockCategoryCode":"sPJERs","StockDate":"1937-01-19T06:01:00Z","AvailableQuantity":"3","OnPOOrderQuantity":"6","InTransitQuantity":"9","TransferQuantity":"1","OnSOQuantity":"9","OnDeliveryQuantity":"10","PackedQuantity":"2","BlockedQuantity":"5","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"vkmRtrFmf","PAPQuantity":"5","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"10","Material":"zMlIlS","Season":"jGxte","Brand":"SwRnKYvCRw","Size":"SsigCffx","Width":"weXfXM","JobDateTimeStamp":"1958-09-29T03:44:08Z","BatchJobStepName":"woJTLeVb"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1953-05-01 18:49:52 +0000 UTC-pzTi-eJXK-SlRRDkX
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 2015-07-26 11:23:20 +0000 UTC-sosKtnv-oaTLqWxhpn-urWVHnNEGr
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1953-05-01T18:49:52Z","EAN":"pzTi","Company":"eJXK","DClocation":"SlRRDkX","StockCategoryCode":"MeLaZ","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":2,"TransferQuantity":4,"OnSOQuantity":5,"OnDeliveryQuantity":4,"PackedQuantity":3,"BlockedQuantity":2,"ReservedQuantity":8,"InspectionQuantity":2,"StockLevelInd":"sqfpHsDlG","PAPQuantity":2,"PAPInTransitQuantity":5,"OpenOnSalesOrderQuantity":9,"Material":"CtEoftLL","Season":"QKSfJYF","Brand":"WekndFvfQ","Size":"zSCEkcbWGO","Width":"FwrAwmn","JobDateTimeStamp":"1963-01-06T13:05:04Z","BatchJobStepName":"JFrgza","DocType":""}'
      - '{"StockDate":"2015-07-26T11:23:20Z","EAN":"sosKtnv","Company":"oaTLqWxhpn","DClocation":"urWVHnNEGr","StockCategoryCode":"crbG","AvailableQuantity":8,"OnPOOrderQuantity":5,"InTransitQuantity":6,"TransferQuantity":6,"OnSOQuantity":8,"OnDeliveryQuantity":5,"PackedQuantity":3,"BlockedQuantity":8,"ReservedQuantity":5,"InspectionQuantity":9,"StockLevelInd":"osVRuM","PAPQuantity":8,"PAPInTransitQuantity":3,"OpenOnSalesOrderQuantity":6,"Material":"PwfmGX","Season":"HAISHeo","Brand":"miJAiSkgCf","Size":"WgJRjHFnzM","Width":"ImhnaIsNG","JobDateTimeStamp":"2009-03-28T09:52:38Z","BatchJobStepName":"JIQXMDjhh","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      expect_error: failed to save
  - name: Publisher
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Retry Fail Publisher - PublishEvents : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"oGUMnlvLl","DClocation":"WSHWMQ","EAN":"nfxIVOrTUf","StockCategoryCode":"BKTEci","StockDate":"1949-07-08T10:14:22Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"9","OnSOQuantity":"6","OnDeliveryQuantity":"6","PackedQuantity":"2","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"10","StockLevelInd":"lRgGAK","PAPQuantity":"10","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"8","Material":"KdSPLMDf","Season":"ILhEw","Brand":"GSsnnUHg","Size":"QnATAtkE","Width":"Nsvnhd","JobDateTimeStamp":"2019-04-23T14:42:48Z","BatchJobStepName":"lfupBfudg"},{"Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","EAN":"VHScruDjP","StockCategoryCode":"GkNZPxLrvb","StockDate":"1919-05-13T01:35:36Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"5","TransferQuantity":"9","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"8","BlockedQuantity":"1","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"vMqRcj","PAPQuantity":"2","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"8","Material":"JKSozrdVt","Season":"ZZzb","Brand":"aWBmShiJZ","Size":"hygKxL","Width":"JJsFjRtft","JobDateTimeStamp":"1969-07-10T18:23:36Z","BatchJobStepName":"hZSPwFwRL"}]'
  - '{"Test":[{"Company":"FnCVKvW","DClocation":"KlwdzQLZq","EAN":"kNmrYaFQEu","StockCategoryCode":"kSJuzYA","StockDate":"1967-08-22T15:22:33Z","AvailableQuantity":"1","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"4","OnSOQuantity":"9","OnDeliveryQuantity":"5","PackedQuantity":"10","BlockedQuantity":"7","ReservedQuantity":"8","InspectionQuantity":"5","StockLevelInd":"vQfQWVe","PAPQuantity":"9","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"8","Material":"WRZChL","Season":"BRnXga","Brand":"qdBZU","Size":"fuYpDDRTn","Width":"voHrsuFy","JobDateTimeStamp":"1957-03-03T15:27:54Z","BatchJobStepName":"CDqEv"},{"Company":"CnDIEF","DClocation":"FxebTXX","EAN":"GEUUOBupr","StockCategoryCode":"yqEyIWcT","StockDate":"1985-11-12T08:05:41Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"1","TransferQuantity":"7","OnSOQuantity":"9","OnDeliveryQuantity":"4","PackedQuantity":"8","BlockedQuantity":"5","ReservedQuantity":"1","InspectionQuantity":"6","StockLevelInd":"LyRtrQaPb","PAPQuantity":"6","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"9","Material":"etuzZUKwC","Season":"FckAk","Brand":"rygZKSp","Size":"qZxwozZuwp","Width":"iyogKf","JobDateTimeStamp":"1934-12-17T00:05:23Z","BatchJobStepName":"TTDZQZ"}]}'
  - '{"Test":[{"Company":"wEMiTank","DClocation":"Bgfa","EAN":"PCEyUc","StockCategoryCode":"JTyg","StockDate":"2018-02-22T05:53:00Z","AvailableQuantity":"10","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"6","OnSOQuantity":"7","OnDeliveryQuantity":"3","PackedQuantity":"7","BlockedQuantity":"4","ReservedQuantity":"4","InspectionQuantity":"5","StockLevelInd":"hLpy","PAPQuantity":"9","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"QaFwbD","Season":"PgUX","Brand":"DmTuWfjK","Size":"fhXwXTIxmJ","Width":"eDmWF","JobDateTimeStamp":"2016-06-17T13:35:34Z","BatchJobStepName":"JGsjiVxw"},{"Company":"spKZ","DClocation":"DDFWDAw","EAN":"fSjrL","StockCategoryCode":"mrqf","StockDate":"1955-11-29T07:59:54Z","AvailableQuantity":"5","OnPOOrderQuantity":"5","InTransitQuantity":"5","TransferQuantity":"5","OnSOQuantity":"2","OnDeliveryQuantity":"8","PackedQuantity":"6","BlockedQuantity":"10","ReservedQuantity":"9","InspectionQuantity":"3","StockLevelInd":"OWKsFhniPN","PAPQuantity":"4","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"4","Material":"FAgMbcoc","Season":"ceQVZIG","Brand":"vzdejphn","Size":"Pemh","Width":"okJGE","JobDateTimeStamp":"1964-04-15T08:05:49Z","BatchJobStepName":"HhxakEaL"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"oGUMnlvLl","DClocation":"WSHWMQ","EAN":"nfxIVOrTUf","StockCategoryCode":"BKTEci","StockDate":"1949-07-08T10:14:22Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"2","TransferQuantity":"9","OnSOQuantity":"6","OnDeliveryQuantity":"6","PackedQuantity":"2","BlockedQuantity":"3","ReservedQuantity":"8","InspectionQuantity":"10","StockLevelInd":"lRgGAK","PAPQuantity":"10","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"8","Material":"KdSPLMDf","Season":"ILhEw","Brand":"GSsnnUHg","Size":"QnATAtkE","Width":"Nsvnhd","JobDateTimeStamp":"2019-04-23T14:42:48Z","BatchJobStepName":"lfupBfudg"},{"Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","EAN":"VHScruDjP","StockCategoryCode":"GkNZPxLrvb","StockDate":"1919-05-13T01:35:36Z","AvailableQuantity":"1","OnPOOrderQuantity":"6","InTransitQuantity":"5","TransferQuantity":"9","OnSOQuantity":"8","OnDeliveryQuantity":"8","PackedQuantity":"8","BlockedQuantity":"1","ReservedQuantity":"5","InspectionQuantity":"2","StockLevelInd":"vMqRcj","PAPQuantity":"2","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"8","Material":"JKSozrdVt","Season":"ZZzb","Brand":"aWBmShiJZ","Size":"hygKxL","Width":"JJsFjRtft","JobDateTimeStamp":"1969-07-10T18:23:36Z","BatchJobStepName":"hZSPwFwRL"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"FnCVKvW","DClocation":"KlwdzQLZq","EAN":"kNmrYaFQEu","StockCategoryCode":"kSJuzYA","StockDate":"1967-08-22T15:22:33Z","AvailableQuantity":"1","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"4","OnSOQuantity":"9","OnDeliveryQuantity":"5","PackedQuantity":"10","BlockedQuantity":"7","ReservedQuantity":"8","InspectionQuantity":"5","StockLevelInd":"vQfQWVe","PAPQuantity":"9","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"8","Material":"WRZChL","Season":"BRnXga","Brand":"qdBZU","Size":"fuYpDDRTn","Width":"voHrsuFy","JobDateTimeStamp":"1957-03-03T15:27:54Z","BatchJobStepName":"CDqEv"},{"Company":"CnDIEF","DClocation":"FxebTXX","EAN":"GEUUOBupr","StockCategoryCode":"yqEyIWcT","StockDate":"1985-11-12T08:05:41Z","AvailableQuantity":"3","OnPOOrderQuantity":"4","InTransitQuantity":"1","TransferQuantity":"7","OnSOQuantity":"9","OnDeliveryQuantity":"4","PackedQuantity":"8","BlockedQuantity":"5","ReservedQuantity":"1","InspectionQuantity":"6","StockLevelInd":"LyRtrQaPb","PAPQuantity":"6","PAPInTransitQuantity":"10","OpenOnSalesOrderQuantity":"9","Material":"etuzZUKwC","Season":"FckAk","Brand":"rygZKSp","Size":"qZxwozZuwp","Width":"iyogKf","JobDateTimeStamp":"1934-12-17T00:05:23Z","BatchJobStepName":"TTDZQZ"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"wEMiTank","DClocation":"Bgfa","EAN":"PCEyUc","StockCategoryCode":"JTyg","StockDate":"2018-02-22T05:53:00Z","AvailableQuantity":"10","OnPOOrderQuantity":"8","InTransitQuantity":"3","TransferQuantity":"6","OnSOQuantity":"7","OnDeliveryQuantity":"3","PackedQuantity":"7","BlockedQuantity":"4","ReservedQuantity":"4","InspectionQuantity":"5","StockLevelInd":"hLpy","PAPQuantity":"9","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"QaFwbD","Season":"PgUX","Brand":"DmTuWfjK","Size":"fhXwXTIxmJ","Width":"eDmWF","JobDateTimeStamp":"2016-06-17T13:35:34Z","BatchJobStepName":"JGsjiVxw"},{"Company":"spKZ","DClocation":"DDFWDAw","EAN":"fSjrL","StockCategoryCode":"mrqf","StockDate":"1955-11-29T07:59:54Z","AvailableQuantity":"5","OnPOOrderQuantity":"5","InTransitQuantity":"5","TransferQuantity":"5","OnSOQuantity":"2","OnDeliveryQuantity":"8","PackedQuantity":"6","BlockedQuantity":"10","ReservedQuantity":"9","InspectionQuantity":"3","StockLevelInd":"OWKsFhniPN","PAPQuantity":"4","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"4","Material":"FAgMbcoc","Season":"ceQVZIG","Brand":"vzdejphn","Size":"Pemh","Width":"okJGE","JobDateTimeStamp":"1964-04-15T08:05:49Z","BatchJobStepName":"HhxakEaL"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1949-07-08 10:14:22 +0000 UTC-nfxIVOrTUf-oGUMnlvLl-WSHWMQ
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 1919-05-13 01:35:36 +0000 UTC-VHScruDjP-vKxdNBTEtO-ygeOlzDXkc
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1949-07-08T10:14:22Z","EAN":"nfxIVOrTUf","Company":"oGUMnlvLl","DClocation":"WSHWMQ","StockCategoryCode":"BKTEci","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":2,"TransferQuantity":9,"OnSOQuantity":6,"OnDeliveryQuantity":6,"PackedQuantity":2,"BlockedQuantity":3,"ReservedQuantity":8,"InspectionQuantity":10,"StockLevelInd":"lRgGAK","PAPQuantity":10,"PAPInTransitQuantity":2,"OpenOnSalesOrderQuantity":8,"Material":"KdSPLMDf","Season":"ILhEw","Brand":"GSsnnUHg","Size":"QnATAtkE","Width":"Nsvnhd","JobDateTimeStamp":"2019-04-23T14:42:48Z","BatchJobStepName":"lfupBfudg","DocType":""}'
      - '{"StockDate":"1919-05-13T01:35:36Z","EAN":"VHScruDjP","Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","StockCategoryCode":"GkNZPxLrvb","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":5,"TransferQuantity":9,"OnSOQuantity":8,"OnDeliveryQuantity":8,"PackedQuantity":8,"BlockedQuantity":1,"ReservedQuantity":5,"InspectionQuantity":2,"StockLevelInd":"vMqRcj","PAPQuantity":2,"PAPInTransitQuantity":7,"OpenOnSalesOrderQuantity":8,"Material":"JKSozrdVt","Season":"ZZzb","Brand":"aWBmShiJZ","Size":"hygKxL","Width":"JJsFjRtft","JobDateTimeStamp":"1969-07-10T18:23:36Z","BatchJobStepName":"hZSPwFwRL","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6Im9HVU1ubHZMbCIsIkRDbG9jYXRpb24iOiJXU0hXTVEiLCJFQU4iOiJuZnhJVk9yVFVmIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJCS1RFY2kiLCJTdG9ja0RhdGUiOiIxOTQ5LTA3LTA4VDEwOjE0OjIyWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiMiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiNiIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjYiLCJQYWNrZWRRdWFudGl0eSI6IjIiLCJCbG9ja2VkUXVhbnRpdHkiOiIzIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjgiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIxMCIsIlN0b2NrTGV2ZWxJbmQiOiJsUmdHQUsiLCJQQVBRdWFudGl0eSI6IjEwIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiOCIsIk1hdGVyaWFsIjoiS2RTUExNRGYiLCJTZWFzb24iOiJJTGhFdyIsIkJyYW5kIjoiR1Nzbm5VSGciLCJTaXplIjoiUW5BVEF0a0UiLCJXaWR0aCI6Ik5zdm5oZCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE5LTA0LTIzVDE0OjQyOjQ4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJsZnVwQmZ1ZGcifSx7IkNvbXBhbnkiOiJ2S3hkTkJURXRPIiwiRENsb2NhdGlvbiI6InlnZU9sekRYa2MiLCJFQU4iOiJWSFNjcnVEalAiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkdrTlpQeExydmIiLCJTdG9ja0RhdGUiOiIxOTE5LTA1LTEzVDAxOjM1OjM2WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiNSIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiOCIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjgiLCJQYWNrZWRRdWFudGl0eSI6IjgiLCJCbG9ja2VkUXVhbnRpdHkiOiIxIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjUiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIyIiwiU3RvY2tMZXZlbEluZCI6InZNcVJjaiIsIlBBUFF1YW50aXR5IjoiMiIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNyIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IkpLU296cmRWdCIsIlNlYXNvbiI6IlpaemIiLCJCcmFuZCI6ImFXQm1TaGlKWiIsIlNpemUiOiJoeWdLeEwiLCJXaWR0aCI6IkpKc0ZqUnRmdCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTY5LTA3LTEwVDE4OjIzOjM2WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJoWlNQd0Z3UkwifV0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1949-07-08T10:14:22Z","EAN":"nfxIVOrTUf","Company":"oGUMnlvLl","DClocation":"WSHWMQ","StockCategoryCode":"BKTEci","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":2,"TransferQuantity":9,"OnSOQuantity":6,"OnDeliveryQuantity":6,"PackedQuantity":2,"BlockedQuantity":3,"ReservedQuantity":8,"InspectionQuantity":10,"StockLevelInd":"lRgGAK","PAPQuantity":10,"PAPInTransitQuantity":2,"OpenOnSalesOrderQuantity":8,"Material":"KdSPLMDf","Season":"ILhEw","Brand":"GSsnnUHg","Size":"QnATAtkE","Width":"Nsvnhd","JobDateTimeStamp":"2019-04-23T14:42:48Z","BatchJobStepName":"lfupBfudg","DocType":""},{"StockDate":"1919-05-13T01:35:36Z","EAN":"VHScruDjP","Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","StockCategoryCode":"GkNZPxLrvb","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":5,"TransferQuantity":9,"OnSOQuantity":8,"OnDeliveryQuantity":8,"PackedQuantity":8,"BlockedQuantity":1,"ReservedQuantity":5,"InspectionQuantity":2,"StockLevelInd":"vMqRcj","PAPQuantity":2,"PAPInTransitQuantity":7,"OpenOnSalesOrderQuantity":8,"Material":"JKSozrdVt","Season":"ZZzb","Brand":"aWBmShiJZ","Size":"hygKxL","Width":"JJsFjRtft","JobDateTimeStamp":"1969-07-10T18:23:36Z","BatchJobStepName":"hZSPwFwRL","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRm5DVkt2VyIsIkRDbG9jYXRpb24iOiJLbHdkelFMWnEiLCJFQU4iOiJrTm1yWWFGUUV1IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJrU0p1ellBIiwiU3RvY2tEYXRlIjoiMTk2Ny0wOC0yMlQxNToyMjozM1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjEiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJUcmFuc2ZlclF1YW50aXR5IjoiNCIsIk9uU09RdWFudGl0eSI6IjkiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjciLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjUiLCJTdG9ja0xldmVsSW5kIjoidlFmUVdWZSIsIlBBUFF1YW50aXR5IjoiOSIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IldSWkNoTCIsIlNlYXNvbiI6IkJSblhnYSIsIkJyYW5kIjoicWRCWlUiLCJTaXplIjoiZnVZcEREUlRuIiwiV2lkdGgiOiJ2b0hyc3VGeSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTU3LTAzLTAzVDE1OjI3OjU0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJDRHFFdiJ9LHsiQ29tcGFueSI6IkNuRElFRiIsIkRDbG9jYXRpb24iOiJGeGViVFhYIiwiRUFOIjoiR0VVVU9CdXByIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJ5cUV5SVdjVCIsIlN0b2NrRGF0ZSI6IjE5ODUtMTEtMTJUMDg6MDU6NDFaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiI0IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIxIiwiVHJhbnNmZXJRdWFudGl0eSI6IjciLCJPblNPUXVhbnRpdHkiOiI5IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNCIsIlBhY2tlZFF1YW50aXR5IjoiOCIsIkJsb2NrZWRRdWFudGl0eSI6IjUiLCJSZXNlcnZlZFF1YW50aXR5IjoiMSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjYiLCJTdG9ja0xldmVsSW5kIjoiTHlSdHJRYVBiIiwiUEFQUXVhbnRpdHkiOiI2IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIxMCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjkiLCJNYXRlcmlhbCI6ImV0dXpaVUt3QyIsIlNlYXNvbiI6IkZja0FrIiwiQnJhbmQiOiJyeWdaS1NwIiwiU2l6ZSI6InFaeHdvelp1d3AiLCJXaWR0aCI6Iml5b2dLZiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTM0LTEyLTE3VDAwOjA1OjIzWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJUVERaUVoifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55Ijoid0VNaVRhbmsiLCJEQ2xvY2F0aW9uIjoiQmdmYSIsIkVBTiI6IlBDRXlVYyIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiSlR5ZyIsIlN0b2NrRGF0ZSI6IjIwMTgtMDItMjJUMDU6NTM6MDBaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiOCIsIkluVHJhbnNpdFF1YW50aXR5IjoiMyIsIlRyYW5zZmVyUXVhbnRpdHkiOiI2IiwiT25TT1F1YW50aXR5IjoiNyIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjMiLCJQYWNrZWRRdWFudGl0eSI6IjciLCJCbG9ja2VkUXVhbnRpdHkiOiI0IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjQiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI1IiwiU3RvY2tMZXZlbEluZCI6ImhMcHkiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjciLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI2IiwiTWF0ZXJpYWwiOiJRYUZ3YkQiLCJTZWFzb24iOiJQZ1VYIiwiQnJhbmQiOiJEbVR1V2ZqSyIsIlNpemUiOiJmaFh3WFRJeG1KIiwiV2lkdGgiOiJlRG1XRiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE2LTA2LTE3VDEzOjM1OjM0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJKR3NqaVZ4dyJ9LHsiQ29tcGFueSI6InNwS1oiLCJEQ2xvY2F0aW9uIjoiRERGV0RBdyIsIkVBTiI6ImZTanJMIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJtcnFmIiwiU3RvY2tEYXRlIjoiMTk1NS0xMS0yOVQwNzo1OTo1NFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjUiLCJPblBPT3JkZXJRdWFudGl0eSI6IjUiLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiNSIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI4IiwiUGFja2VkUXVhbnRpdHkiOiI2IiwiQmxvY2tlZFF1YW50aXR5IjoiMTAiLCJSZXNlcnZlZFF1YW50aXR5IjoiOSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoiT1dLc0ZobmlQTiIsIlBBUFF1YW50aXR5IjoiNCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjQiLCJNYXRlcmlhbCI6IkZBZ01iY29jIiwiU2Vhc29uIjoiY2VRVlpJRyIsIkJyYW5kIjoidnpkZWpwaG4iLCJTaXplIjoiUGVtaCIsIldpZHRoIjoib2tKR0UiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk2NC0wNC0xNVQwODowNTo0OVoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiSGh4YWtFYUwifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      expect_error: failed to publish
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6Im9HVU1ubHZMbCIsIkRDbG9jYXRpb24iOiJXU0hXTVEiLCJFQU4iOiJuZnhJVk9yVFVmIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJCS1RFY2kiLCJTdG9ja0RhdGUiOiIxOTQ5LTA3LTA4VDEwOjE0OjIyWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiMiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiNiIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjYiLCJQYWNrZWRRdWFudGl0eSI6IjIiLCJCbG9ja2VkUXVhbnRpdHkiOiIzIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjgiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIxMCIsIlN0b2NrTGV2ZWxJbmQiOiJsUmdHQUsiLCJQQVBRdWFudGl0eSI6IjEwIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiOCIsIk1hdGVyaWFsIjoiS2RTUExNRGYiLCJTZWFzb24iOiJJTGhFdyIsIkJyYW5kIjoiR1Nzbm5VSGciLCJTaXplIjoiUW5BVEF0a0UiLCJXaWR0aCI6Ik5zdm5oZCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE5LTA0LTIzVDE0OjQyOjQ4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJsZnVwQmZ1ZGcifSx7IkNvbXBhbnkiOiJ2S3hkTkJURXRPIiwiRENsb2NhdGlvbiI6InlnZU9sekRYa2MiLCJFQU4iOiJWSFNjcnVEalAiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkdrTlpQeExydmIiLCJTdG9ja0RhdGUiOiIxOTE5LTA1LTEzVDAxOjM1OjM2WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiNSIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiOCIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjgiLCJQYWNrZWRRdWFudGl0eSI6IjgiLCJCbG9ja2VkUXVhbnRpdHkiOiIxIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjUiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIyIiwiU3RvY2tMZXZlbEluZCI6InZNcVJjaiIsIlBBUFF1YW50aXR5IjoiMiIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNyIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IkpLU296cmRWdCIsIlNlYXNvbiI6IlpaemIiLCJCcmFuZCI6ImFXQm1TaGlKWiIsIlNpemUiOiJoeWdLeEwiLCJXaWR0aCI6IkpKc0ZqUnRmdCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTY5LTA3LTEwVDE4OjIzOjM2WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJoWlNQd0Z3UkwifV0="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1949-07-08T10:14:22Z","EAN":"nfxIVOrTUf","Company":"oGUMnlvLl","DClocation":"WSHWMQ","StockCategoryCode":"BKTEci","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":2,"TransferQuantity":9,"OnSOQuantity":6,"OnDeliveryQuantity":6,"PackedQuantity":2,"BlockedQuantity":3,"ReservedQuantity":8,"InspectionQuantity":10,"StockLevelInd":"lRgGAK","PAPQuantity":10,"PAPInTransitQuantity":2,"OpenOnSalesOrderQuantity":8,"Material":"KdSPLMDf","Season":"ILhEw","Brand":"GSsnnUHg","Size":"QnATAtkE","Width":"Nsvnhd","JobDateTimeStamp":"2019-04-23T14:42:48Z","BatchJobStepName":"lfupBfudg","DocType":""},{"StockDate":"1919-05-13T01:35:36Z","EAN":"VHScruDjP","Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","StockCategoryCode":"GkNZPxLrvb","AvailableQuantity":1,"OnPOOrderQuantity":6,"InTransitQuantity":5,"TransferQuantity":9,"OnSOQuantity":8,"OnDeliveryQuantity":8,"PackedQuantity":8,"BlockedQuantity":1,"ReservedQuantity":5,"InspectionQuantity":2,"StockLevelInd":"vMqRcj","PAPQuantity":2,"PAPInTransitQuantity":7,"OpenOnSalesOrderQuantity":8,"Material":"JKSozrdVt","Season":"ZZzb","Brand":"aWBmShiJZ","Size":"hygKxL","Width":"JJsFjRtft","JobDateTimeStamp":"1969-07-10T18:23:36Z","BatchJobStepName":"hZSPwFwRL","DocType":""}],"is_republish":2}'
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRm5DVkt2VyIsIkRDbG9jYXRpb24iOiJLbHdkelFMWnEiLCJFQU4iOiJrTm1yWWFGUUV1IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJrU0p1ellBIiwiU3RvY2tEYXRlIjoiMTk2Ny0wOC0yMlQxNToyMjozM1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjEiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJUcmFuc2ZlclF1YW50aXR5IjoiNCIsIk9uU09RdWFudGl0eSI6IjkiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjciLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjUiLCJTdG9ja0xldmVsSW5kIjoidlFmUVdWZSIsIlBBUFF1YW50aXR5IjoiOSIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IldSWkNoTCIsIlNlYXNvbiI6IkJSblhnYSIsIkJyYW5kIjoicWRCWlUiLCJTaXplIjoiZnVZcEREUlRuIiwiV2lkdGgiOiJ2b0hyc3VGeSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTU3LTAzLTAzVDE1OjI3OjU0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJDRHFFdiJ9LHsiQ29tcGFueSI6IkNuRElFRiIsIkRDbG9jYXRpb24iOiJGeGViVFhYIiwiRUFOIjoiR0VVVU9CdXByIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJ5cUV5SVdjVCIsIlN0b2NrRGF0ZSI6IjE5ODUtMTEtMTJUMDg6MDU6NDFaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiI0IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIxIiwiVHJhbnNmZXJRdWFudGl0eSI6IjciLCJPblNPUXVhbnRpdHkiOiI5IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNCIsIlBhY2tlZFF1YW50aXR5IjoiOCIsIkJsb2NrZWRRdWFudGl0eSI6IjUiLCJSZXNlcnZlZFF1YW50aXR5IjoiMSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjYiLCJTdG9ja0xldmVsSW5kIjoiTHlSdHJRYVBiIiwiUEFQUXVhbnRpdHkiOiI2IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIxMCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjkiLCJNYXRlcmlhbCI6ImV0dXpaVUt3QyIsIlNlYXNvbiI6IkZja0FrIiwiQnJhbmQiOiJyeWdaS1NwIiwiU2l6ZSI6InFaeHdvelp1d3AiLCJXaWR0aCI6Iml5b2dLZiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTM0LTEyLTE3VDAwOjA1OjIzWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJUVERaUVoifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}],"is_republish":2}'
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55Ijoid0VNaVRhbmsiLCJEQ2xvY2F0aW9uIjoiQmdmYSIsIkVBTiI6IlBDRXlVYyIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiSlR5ZyIsIlN0b2NrRGF0ZSI6IjIwMTgtMDItMjJUMDU6NTM6MDBaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiOCIsIkluVHJhbnNpdFF1YW50aXR5IjoiMyIsIlRyYW5zZmVyUXVhbnRpdHkiOiI2IiwiT25TT1F1YW50aXR5IjoiNyIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjMiLCJQYWNrZWRRdWFudGl0eSI6IjciLCJCbG9ja2VkUXVhbnRpdHkiOiI0IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjQiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI1IiwiU3RvY2tMZXZlbEluZCI6ImhMcHkiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjciLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI2IiwiTWF0ZXJpYWwiOiJRYUZ3YkQiLCJTZWFzb24iOiJQZ1VYIiwiQnJhbmQiOiJEbVR1V2ZqSyIsIlNpemUiOiJmaFh3WFRJeG1KIiwiV2lkdGgiOiJlRG1XRiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE2LTA2LTE3VDEzOjM1OjM0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJKR3NqaVZ4dyJ9LHsiQ29tcGFueSI6InNwS1oiLCJEQ2xvY2F0aW9uIjoiRERGV0RBdyIsIkVBTiI6ImZTanJMIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJtcnFmIiwiU3RvY2tEYXRlIjoiMTk1NS0xMS0yOVQwNzo1OTo1NFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjUiLCJPblBPT3JkZXJRdWFudGl0eSI6IjUiLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiNSIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI4IiwiUGFja2VkUXVhbnRpdHkiOiI2IiwiQmxvY2tlZFF1YW50aXR5IjoiMTAiLCJSZXNlcnZlZFF1YW50aXR5IjoiOSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoiT1dLc0ZobmlQTiIsIlBBUFF1YW50aXR5IjoiNCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjQiLCJNYXRlcmlhbCI6IkZBZ01iY29jIiwiU2Vhc29uIjoiY2VRVlpJRyIsIkJyYW5kIjoidnpkZWpwaG4iLCJTaXplIjoiUGVtaCIsIldpZHRoIjoib2tKR0UiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk2NC0wNC0xNVQwODowNTo0OVoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiSGh4YWtFYUwifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}],"is_republish":2}'
  - name: Republisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"base_warehouse":"Zale144","event":{"event_category":"warehouseStock","event_name":"CreateWarehouseStock","event_occurred_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC","event_received_time":"2021-11-22T03:04:05Z","id":"msg_1","reference":"ref_1"},"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","is_republish":2,"metadata":{"created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_occurred":"2021-11-22T03:04:05Z","last_updated":"2021-11-22T03:04:05Z"},"previous_action":4,"pt":"2021-11-22T03:04:05Z","raw_data_event":["W3siQ29tcGFueSI6Im9HVU1ubHZMbCIsIkRDbG9jYXRpb24iOiJXU0hXTVEiLCJFQU4iOiJuZnhJVk9yVFVmIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJCS1RFY2kiLCJTdG9ja0RhdGUiOiIxOTQ5LTA3LTA4VDEwOjE0OjIyWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiMiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiNiIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjYiLCJQYWNrZWRRdWFudGl0eSI6IjIiLCJCbG9ja2VkUXVhbnRpdHkiOiIzIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjgiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIxMCIsIlN0b2NrTGV2ZWxJbmQiOiJsUmdHQUsiLCJQQVBRdWFudGl0eSI6IjEwIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiOCIsIk1hdGVyaWFsIjoiS2RTUExNRGYiLCJTZWFzb24iOiJJTGhFdyIsIkJyYW5kIjoiR1Nzbm5VSGciLCJTaXplIjoiUW5BVEF0a0UiLCJXaWR0aCI6Ik5zdm5oZCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE5LTA0LTIzVDE0OjQyOjQ4WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJsZnVwQmZ1ZGcifSx7IkNvbXBhbnkiOiJ2S3hkTkJURXRPIiwiRENsb2NhdGlvbiI6InlnZU9sekRYa2MiLCJFQU4iOiJWSFNjcnVEalAiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkdrTlpQeExydmIiLCJTdG9ja0RhdGUiOiIxOTE5LTA1LTEzVDAxOjM1OjM2WiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMSIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiNSIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiOCIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjgiLCJQYWNrZWRRdWFudGl0eSI6IjgiLCJCbG9ja2VkUXVhbnRpdHkiOiIxIiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjUiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIyIiwiU3RvY2tMZXZlbEluZCI6InZNcVJjaiIsIlBBUFF1YW50aXR5IjoiMiIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiNyIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IkpLU296cmRWdCIsIlNlYXNvbiI6IlpaemIiLCJCcmFuZCI6ImFXQm1TaGlKWiIsIlNpemUiOiJoeWdLeEwiLCJXaWR0aCI6IkpKc0ZqUnRmdCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTY5LTA3LTEwVDE4OjIzOjM2WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJoWlNQd0Z3UkwifV0="],"warehouseStock":[{"AvailableQuantity":1,"BatchJobStepName":"lfupBfudg","BlockedQuantity":3,"Brand":"GSsnnUHg","Company":"oGUMnlvLl","DClocation":"WSHWMQ","DocType":"","EAN":"nfxIVOrTUf","InTransitQuantity":2,"InspectionQuantity":10,"JobDateTimeStamp":"2019-04-23T14:42:48Z","Material":"KdSPLMDf","OnDeliveryQuantity":6,"OnPOOrderQuantity":6,"OnSOQuantity":6,"OpenOnSalesOrderQuantity":8,"PAPInTransitQuantity":2,"PAPQuantity":10,"PackedQuantity":2,"ReservedQuantity":8,"Season":"ILhEw","Size":"QnATAtkE","StockCategoryCode":"BKTEci","StockDate":"1949-07-08T10:14:22Z","StockLevelInd":"lRgGAK","TransferQuantity":9,"Width":"Nsvnhd"},{"AvailableQuantity":1,"BatchJobStepName":"hZSPwFwRL","BlockedQuantity":1,"Brand":"aWBmShiJZ","Company":"vKxdNBTEtO","DClocation":"ygeOlzDXkc","DocType":"","EAN":"VHScruDjP","InTransitQuantity":5,"InspectionQuantity":2,"JobDateTimeStamp":"1969-07-10T18:23:36Z","Material":"JKSozrdVt","OnDeliveryQuantity":8,"OnPOOrderQuantity":6,"OnSOQuantity":8,"OpenOnSalesOrderQuantity":8,"PAPInTransitQuantity":7,"PAPQuantity":2,"PackedQuantity":8,"ReservedQuantity":5,"Season":"ZZzb","Size":"hygKxL","StockCategoryCode":"GkNZPxLrvb","StockDate":"1919-05-13T01:35:36Z","StockLevelInd":"vMqRcj","TransferQuantity":9,"Width":"JJsFjRtft"}]}'
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
    - method: PublishEvents
      expect_inputs:
      - '{"base_warehouse":"Zale144","event":{"event_category":"warehouseStock","event_name":"CreateWarehouseStock","event_occurred_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC","event_received_time":"2021-11-22T03:04:05Z","id":"msg_2","reference":"ref_2"},"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","is_republish":2,"metadata":{"created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_occurred":"2021-11-22T03:04:05Z","last_updated":"2021-11-22T03:04:05Z"},"previous_action":4,"pt":"2021-11-22T03:04:05Z","raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRm5DVkt2VyIsIkRDbG9jYXRpb24iOiJLbHdkelFMWnEiLCJFQU4iOiJrTm1yWWFGUUV1IiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJrU0p1ellBIiwiU3RvY2tEYXRlIjoiMTk2Ny0wOC0yMlQxNToyMjozM1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjEiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjMiLCJUcmFuc2ZlclF1YW50aXR5IjoiNCIsIk9uU09RdWFudGl0eSI6IjkiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiIxMCIsIkJsb2NrZWRRdWFudGl0eSI6IjciLCJSZXNlcnZlZFF1YW50aXR5IjoiOCIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjUiLCJTdG9ja0xldmVsSW5kIjoidlFmUVdWZSIsIlBBUFF1YW50aXR5IjoiOSIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjgiLCJNYXRlcmlhbCI6IldSWkNoTCIsIlNlYXNvbiI6IkJSblhnYSIsIkJyYW5kIjoicWRCWlUiLCJTaXplIjoiZnVZcEREUlRuIiwiV2lkdGgiOiJ2b0hyc3VGeSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTU3LTAzLTAzVDE1OjI3OjU0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJDRHFFdiJ9LHsiQ29tcGFueSI6IkNuRElFRiIsIkRDbG9jYXRpb24iOiJGeGViVFhYIiwiRUFOIjoiR0VVVU9CdXByIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJ5cUV5SVdjVCIsIlN0b2NrRGF0ZSI6IjE5ODUtMTEtMTJUMDg6MDU6NDFaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIzIiwiT25QT09yZGVyUXVhbnRpdHkiOiI0IiwiSW5UcmFuc2l0UXVhbnRpdHkiOiIxIiwiVHJhbnNmZXJRdWFudGl0eSI6IjciLCJPblNPUXVhbnRpdHkiOiI5IiwiT25EZWxpdmVyeVF1YW50aXR5IjoiNCIsIlBhY2tlZFF1YW50aXR5IjoiOCIsIkJsb2NrZWRRdWFudGl0eSI6IjUiLCJSZXNlcnZlZFF1YW50aXR5IjoiMSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjYiLCJTdG9ja0xldmVsSW5kIjoiTHlSdHJRYVBiIiwiUEFQUXVhbnRpdHkiOiI2IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIxMCIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjkiLCJNYXRlcmlhbCI6ImV0dXpaVUt3QyIsIlNlYXNvbiI6IkZja0FrIiwiQnJhbmQiOiJyeWdaS1NwIiwiU2l6ZSI6InFaeHdvelp1d3AiLCJXaWR0aCI6Iml5b2dLZiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTM0LTEyLTE3VDAwOjA1OjIzWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJUVERaUVoifV19"],"warehouseStock":[{"AvailableQuantity":0,"BatchJobStepName":"","BlockedQuantity":0,"Brand":"","Company":"","DClocation":"","DocType":"","EAN":"","InTransitQuantity":0,"InspectionQuantity":0,"JobDateTimeStamp":"0001-01-01T00:00:00Z","Material":"","OnDeliveryQuantity":0,"OnPOOrderQuantity":0,"OnSOQuantity":0,"OpenOnSalesOrderQuantity":0,"PAPInTransitQuantity":0,"PAPQuantity":0,"PackedQuantity":0,"ReservedQuantity":0,"Season":"","Size":"","StockCategoryCode":"","StockDate":"0001-01-01T00:00:00Z","StockLevelInd":"","TransferQuantity":0,"Width":""}]}'
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_2","reference":"ref_2"}'
    - method: PublishEvents
      expect_inputs:
      - '{"base_warehouse":"Zale144","event":{"event_category":"warehouseStock","event_name":"CreateWarehouseStock","event_occurred_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC","event_received_time":"2021-11-22T03:04:05Z","id":"msg_3","reference":"ref_3"},"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","is_republish":2,"metadata":{"created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","last_update_event_occurred":"2021-11-22T03:04:05Z","last_updated":"2021-11-22T03:04:05Z"},"previous_action":4,"pt":"2021-11-22T03:04:05Z","raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55Ijoid0VNaVRhbmsiLCJEQ2xvY2F0aW9uIjoiQmdmYSIsIkVBTiI6IlBDRXlVYyIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiSlR5ZyIsIlN0b2NrRGF0ZSI6IjIwMTgtMDItMjJUMDU6NTM6MDBaIiwiQXZhaWxhYmxlUXVhbnRpdHkiOiIxMCIsIk9uUE9PcmRlclF1YW50aXR5IjoiOCIsIkluVHJhbnNpdFF1YW50aXR5IjoiMyIsIlRyYW5zZmVyUXVhbnRpdHkiOiI2IiwiT25TT1F1YW50aXR5IjoiNyIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjMiLCJQYWNrZWRRdWFudGl0eSI6IjciLCJCbG9ja2VkUXVhbnRpdHkiOiI0IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjQiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiI1IiwiU3RvY2tMZXZlbEluZCI6ImhMcHkiLCJQQVBRdWFudGl0eSI6IjkiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjciLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI2IiwiTWF0ZXJpYWwiOiJRYUZ3YkQiLCJTZWFzb24iOiJQZ1VYIiwiQnJhbmQiOiJEbVR1V2ZqSyIsIlNpemUiOiJmaFh3WFRJeG1KIiwiV2lkdGgiOiJlRG1XRiIsIkpvYkRhdGVUaW1lU3RhbXAiOiIyMDE2LTA2LTE3VDEzOjM1OjM0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJKR3NqaVZ4dyJ9LHsiQ29tcGFueSI6InNwS1oiLCJEQ2xvY2F0aW9uIjoiRERGV0RBdyIsIkVBTiI6ImZTanJMIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJtcnFmIiwiU3RvY2tEYXRlIjoiMTk1NS0xMS0yOVQwNzo1OTo1NFoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjUiLCJPblBPT3JkZXJRdWFudGl0eSI6IjUiLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiNSIsIk9uU09RdWFudGl0eSI6IjIiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI4IiwiUGFja2VkUXVhbnRpdHkiOiI2IiwiQmxvY2tlZFF1YW50aXR5IjoiMTAiLCJSZXNlcnZlZFF1YW50aXR5IjoiOSIsIkluc3BlY3Rpb25RdWFudGl0eSI6IjMiLCJTdG9ja0xldmVsSW5kIjoiT1dLc0ZobmlQTiIsIlBBUFF1YW50aXR5IjoiNCIsIlBBUEluVHJhbnNpdFF1YW50aXR5IjoiOSIsIk9wZW5PblNhbGVzT3JkZXJRdWFudGl0eSI6IjQiLCJNYXRlcmlhbCI6IkZBZ01iY29jIiwiU2Vhc29uIjoiY2VRVlpJRyIsIkJyYW5kIjoidnpkZWpwaG4iLCJTaXplIjoiUGVtaCIsIldpZHRoIjoib2tKR0UiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk2NC0wNC0xNVQwODowNTo0OVoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiSGh4YWtFYUwifV19"],"warehouseStock":[{"AvailableQuantity":0,"BatchJobStepName":"","BlockedQuantity":0,"Brand":"","Company":"","DClocation":"","DocType":"","EAN":"","InTransitQuantity":0,"InspectionQuantity":0,"JobDateTimeStamp":"0001-01-01T00:00:00Z","Material":"","OnDeliveryQuantity":0,"OnPOOrderQuantity":0,"OnSOQuantity":0,"OpenOnSalesOrderQuantity":0,"PAPInTransitQuantity":0,"PAPQuantity":0,"PackedQuantity":0,"ReservedQuantity":0,"Season":"","Size":"","StockCategoryCode":"","StockDate":"0001-01-01T00:00:00Z","StockLevelInd":"","TransferQuantity":0,"Width":""}]}'
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_3","reference":"ref_3"}'
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_2","reference":"ref_2"}'
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_3","reference":"ref_3"}'
- test_name: 'Fail Acker - AckMessages : Test: 3 messages (2 records each)'
  inputs:
  - '[{"Company":"UfJNs","DClocation":"RPjxqns","EAN":"hZLvWz","StockCategoryCode":"nKEgvVTN","StockDate":"1923-12-05T17:13:46Z","AvailableQuantity":"2","OnPOOrderQuantity":"9","InTransitQuantity":"7","TransferQuantity":"1","OnSOQuantity":"8","OnDeliveryQuantity":"4","PackedQuantity":"2","BlockedQuantity":"5","ReservedQuantity":"4","InspectionQuantity":"6","StockLevelInd":"POJHCn","PAPQuantity":"2","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"9","Material":"bQwfpBkLY","Season":"ECccBIL","Brand":"pySReR","Size":"RkmgJFpweI","Width":"SSbtvA","JobDateTimeStamp":"1907-07-09T10:28:16Z","BatchJobStepName":"IdqRsoI"},{"Company":"FSfYqex","DClocation":"llbFvSVvEA","EAN":"HpRze","StockCategoryCode":"BxOLNwJn","StockDate":"2015-02-18T13:08:03Z","AvailableQuantity":"3","OnPOOrderQuantity":"6","InTransitQuantity":"6","TransferQuantity":"9","OnSOQuantity":"9","OnDeliveryQuantity":"3","PackedQuantity":"3","BlockedQuantity":"4","ReservedQuantity":"6","InspectionQuantity":"2","StockLevelInd":"CHfX","PAPQuantity":"8","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"6","Material":"NMmDX","Season":"KYbLJODZAV","Brand":"oLyaf","Size":"zMIueC","Width":"tkFq","JobDateTimeStamp":"1990-10-31T20:43:07Z","BatchJobStepName":"YCdi"}]'
  - '{"Test":[{"Company":"FCeB","DClocation":"ynwdX","EAN":"VFiVqZdf","StockCategoryCode":"PwDn","StockDate":"1942-11-12T15:46:45Z","AvailableQuantity":"6","OnPOOrderQuantity":"8","InTransitQuantity":"5","TransferQuantity":"6","OnSOQuantity":"1","OnDeliveryQuantity":"6","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"7","InspectionQuantity":"10","StockLevelInd":"AqQkVOktP","PAPQuantity":"3","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"3","Material":"scuzspWw","Season":"LWgrR","Brand":"SwdREWY","Size":"vmSKew","Width":"xROs","JobDateTimeStamp":"1992-02-09T04:37:54Z","BatchJobStepName":"KWZqGMlayE"},{"Company":"wsqniP","DClocation":"poCUbCewM","EAN":"NOvCftOmSr","StockCategoryCode":"MScuHmEhCG","StockDate":"1929-06-05T11:31:16Z","AvailableQuantity":"8","OnPOOrderQuantity":"9","InTransitQuantity":"8","TransferQuantity":"7","OnSOQuantity":"7","OnDeliveryQuantity":"7","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"7","InspectionQuantity":"4","StockLevelInd":"IcrA","PAPQuantity":"8","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"4","Material":"uVZZwXfjf","Season":"wkfSVFvfc","Brand":"GtXHocE","Size":"BfMWKxBU","Width":"evcKP","JobDateTimeStamp":"1948-08-06T02:56:44Z","BatchJobStepName":"lJvPvJqjM"}]}'
  - '{"Test":[{"Company":"qVbCM","DClocation":"yTWcsaGFkf","EAN":"ygsr","StockCategoryCode":"LpAosNF","StockDate":"1903-07-03T20:42:51Z","AvailableQuantity":"2","OnPOOrderQuantity":"6","InTransitQuantity":"7","TransferQuantity":"4","OnSOQuantity":"1","OnDeliveryQuantity":"2","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"9","InspectionQuantity":"3","StockLevelInd":"FHDvIYK","PAPQuantity":"2","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"uLsznPSBmB","Season":"rnvykr","Brand":"EQeOJN","Size":"mWRSj","Width":"vmwJcs","JobDateTimeStamp":"1956-07-29T08:11:14Z","BatchJobStepName":"ccOax"},{"Company":"NEwNaqoEXI","DClocation":"QYuvGVu","EAN":"sfHSHMhwY","StockCategoryCode":"axRNwGkiH","StockDate":"2002-04-20T15:25:17Z","AvailableQuantity":"2","OnPOOrderQuantity":"7","InTransitQuantity":"5","TransferQuantity":"9","OnSOQuantity":"4","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"3","ReservedQuantity":"9","InspectionQuantity":"9","StockLevelInd":"UhNEEqQ","PAPQuantity":"8","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"6","Material":"DszArbz","Season":"EEkXWp","Brand":"xztjsgz","Size":"BfWSYlmQ","Width":"oYmsgrcrCg","JobDateTimeStamp":"1995-11-23T18:35:50Z","BatchJobStepName":"aICl"}]}'
  dependencies:
  - name: Uploader
    calls:
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '[{"Company":"UfJNs","DClocation":"RPjxqns","EAN":"hZLvWz","StockCategoryCode":"nKEgvVTN","StockDate":"1923-12-05T17:13:46Z","AvailableQuantity":"2","OnPOOrderQuantity":"9","InTransitQuantity":"7","TransferQuantity":"1","OnSOQuantity":"8","OnDeliveryQuantity":"4","PackedQuantity":"2","BlockedQuantity":"5","ReservedQuantity":"4","InspectionQuantity":"6","StockLevelInd":"POJHCn","PAPQuantity":"2","PAPInTransitQuantity":"1","OpenOnSalesOrderQuantity":"9","Material":"bQwfpBkLY","Season":"ECccBIL","Brand":"pySReR","Size":"RkmgJFpweI","Width":"SSbtvA","JobDateTimeStamp":"1907-07-09T10:28:16Z","BatchJobStepName":"IdqRsoI"},{"Company":"FSfYqex","DClocation":"llbFvSVvEA","EAN":"HpRze","StockCategoryCode":"BxOLNwJn","StockDate":"2015-02-18T13:08:03Z","AvailableQuantity":"3","OnPOOrderQuantity":"6","InTransitQuantity":"6","TransferQuantity":"9","OnSOQuantity":"9","OnDeliveryQuantity":"3","PackedQuantity":"3","BlockedQuantity":"4","ReservedQuantity":"6","InspectionQuantity":"2","StockLevelInd":"CHfX","PAPQuantity":"8","PAPInTransitQuantity":"8","OpenOnSalesOrderQuantity":"6","Material":"NMmDX","Season":"KYbLJODZAV","Brand":"oLyaf","Size":"zMIueC","Width":"tkFq","JobDateTimeStamp":"1990-10-31T20:43:07Z","BatchJobStepName":"YCdi"}]'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"FCeB","DClocation":"ynwdX","EAN":"VFiVqZdf","StockCategoryCode":"PwDn","StockDate":"1942-11-12T15:46:45Z","AvailableQuantity":"6","OnPOOrderQuantity":"8","InTransitQuantity":"5","TransferQuantity":"6","OnSOQuantity":"1","OnDeliveryQuantity":"6","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"7","InspectionQuantity":"10","StockLevelInd":"AqQkVOktP","PAPQuantity":"3","PAPInTransitQuantity":"9","OpenOnSalesOrderQuantity":"3","Material":"scuzspWw","Season":"LWgrR","Brand":"SwdREWY","Size":"vmSKew","Width":"xROs","JobDateTimeStamp":"1992-02-09T04:37:54Z","BatchJobStepName":"KWZqGMlayE"},{"Company":"wsqniP","DClocation":"poCUbCewM","EAN":"NOvCftOmSr","StockCategoryCode":"MScuHmEhCG","StockDate":"1929-06-05T11:31:16Z","AvailableQuantity":"8","OnPOOrderQuantity":"9","InTransitQuantity":"8","TransferQuantity":"7","OnSOQuantity":"7","OnDeliveryQuantity":"7","PackedQuantity":"1","BlockedQuantity":"2","ReservedQuantity":"7","InspectionQuantity":"4","StockLevelInd":"IcrA","PAPQuantity":"8","PAPInTransitQuantity":"6","OpenOnSalesOrderQuantity":"4","Material":"uVZZwXfjf","Season":"wkfSVFvfc","Brand":"GtXHocE","Size":"BfMWKxBU","Width":"evcKP","JobDateTimeStamp":"1948-08-06T02:56:44Z","BatchJobStepName":"lJvPvJqjM"}]}'
    - method: UploadFile
      expect_inputs:
      - 5de1ea04-61c9-4cf8-bdf8-320479e62d31_0
      - '{"Test":[{"Company":"qVbCM","DClocation":"yTWcsaGFkf","EAN":"ygsr","StockCategoryCode":"LpAosNF","StockDate":"1903-07-03T20:42:51Z","AvailableQuantity":"2","OnPOOrderQuantity":"6","InTransitQuantity":"7","TransferQuantity":"4","OnSOQuantity":"1","OnDeliveryQuantity":"2","PackedQuantity":"4","BlockedQuantity":"9","ReservedQuantity":"9","InspectionQuantity":"3","StockLevelInd":"FHDvIYK","PAPQuantity":"2","PAPInTransitQuantity":"7","OpenOnSalesOrderQuantity":"6","Material":"uLsznPSBmB","Season":"rnvykr","Brand":"EQeOJN","Size":"mWRSj","Width":"vmwJcs","JobDateTimeStamp":"1956-07-29T08:11:14Z","BatchJobStepName":"ccOax"},{"Company":"NEwNaqoEXI","DClocation":"QYuvGVu","EAN":"sfHSHMhwY","StockCategoryCode":"axRNwGkiH","StockDate":"2002-04-20T15:25:17Z","AvailableQuantity":"2","OnPOOrderQuantity":"7","InTransitQuantity":"5","TransferQuantity":"9","OnSOQuantity":"4","OnDeliveryQuantity":"5","PackedQuantity":"6","BlockedQuantity":"3","ReservedQuantity":"9","InspectionQuantity":"9","StockLevelInd":"UhNEEqQ","PAPQuantity":"8","PAPInTransitQuantity":"2","OpenOnSalesOrderQuantity":"6","Material":"DszArbz","Season":"EEkXWp","Brand":"xztjsgz","Size":"BfWSYlmQ","Width":"oYmsgrcrCg","JobDateTimeStamp":"1995-11-23T18:35:50Z","BatchJobStepName":"aICl"}]}'
  - name: Repository
    calls:
    - method: EntityExists
      expect_inputs:
      - 1923-12-05 17:13:46 +0000 UTC-hZLvWz-UfJNs-RPjxqns
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 2015-02-18 13:08:03 +0000 UTC-HpRze-FSfYqex-llbFvSVvEA
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: EntityExists
      expect_inputs:
      - 0001-01-01 00:00:00 +0000 UTC---
      expect_outputs:
      - false
    - method: SaveEntities
      expect_inputs:
      - '{"StockDate":"1923-12-05T17:13:46Z","EAN":"hZLvWz","Company":"UfJNs","DClocation":"RPjxqns","StockCategoryCode":"nKEgvVTN","AvailableQuantity":2,"OnPOOrderQuantity":9,"InTransitQuantity":7,"TransferQuantity":1,"OnSOQuantity":8,"OnDeliveryQuantity":4,"PackedQuantity":2,"BlockedQuantity":5,"ReservedQuantity":4,"InspectionQuantity":6,"StockLevelInd":"POJHCn","PAPQuantity":2,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":9,"Material":"bQwfpBkLY","Season":"ECccBIL","Brand":"pySReR","Size":"RkmgJFpweI","Width":"SSbtvA","JobDateTimeStamp":"1907-07-09T10:28:16Z","BatchJobStepName":"IdqRsoI","DocType":""}'
      - '{"StockDate":"2015-02-18T13:08:03Z","EAN":"HpRze","Company":"FSfYqex","DClocation":"llbFvSVvEA","StockCategoryCode":"BxOLNwJn","AvailableQuantity":3,"OnPOOrderQuantity":6,"InTransitQuantity":6,"TransferQuantity":9,"OnSOQuantity":9,"OnDeliveryQuantity":3,"PackedQuantity":3,"BlockedQuantity":4,"ReservedQuantity":6,"InspectionQuantity":2,"StockLevelInd":"CHfX","PAPQuantity":8,"PAPInTransitQuantity":8,"OpenOnSalesOrderQuantity":6,"Material":"NMmDX","Season":"KYbLJODZAV","Brand":"oLyaf","Size":"zMIueC","Width":"tkFq","JobDateTimeStamp":"1990-10-31T20:43:07Z","BatchJobStepName":"YCdi","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
      - '{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}'
  - name: Publisher
    calls:
    - method: PublishEvents
      expect_inputs:
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_1","reference":"ref_1","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["W3siQ29tcGFueSI6IlVmSk5zIiwiRENsb2NhdGlvbiI6IlJQanhxbnMiLCJFQU4iOiJoWkx2V3oiLCJTdG9ja0NhdGVnb3J5Q29kZSI6Im5LRWd2VlROIiwiU3RvY2tEYXRlIjoiMTkyMy0xMi0wNVQxNzoxMzo0NloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjIiLCJPblBPT3JkZXJRdWFudGl0eSI6IjkiLCJJblRyYW5zaXRRdWFudGl0eSI6IjciLCJUcmFuc2ZlclF1YW50aXR5IjoiMSIsIk9uU09RdWFudGl0eSI6IjgiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI0IiwiUGFja2VkUXVhbnRpdHkiOiIyIiwiQmxvY2tlZFF1YW50aXR5IjoiNSIsIlJlc2VydmVkUXVhbnRpdHkiOiI0IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiNiIsIlN0b2NrTGV2ZWxJbmQiOiJQT0pIQ24iLCJQQVBRdWFudGl0eSI6IjIiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjEiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI5IiwiTWF0ZXJpYWwiOiJiUXdmcEJrTFkiLCJTZWFzb24iOiJFQ2NjQklMIiwiQnJhbmQiOiJweVNSZVIiLCJTaXplIjoiUmttZ0pGcHdlSSIsIldpZHRoIjoiU1NidHZBIiwiSm9iRGF0ZVRpbWVTdGFtcCI6IjE5MDctMDctMDlUMTA6Mjg6MTZaIiwiQmF0Y2hKb2JTdGVwTmFtZSI6IklkcVJzb0kifSx7IkNvbXBhbnkiOiJGU2ZZcWV4IiwiRENsb2NhdGlvbiI6ImxsYkZ2U1Z2RUEiLCJFQU4iOiJIcFJ6ZSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiQnhPTE53Sm4iLCJTdG9ja0RhdGUiOiIyMDE1LTAyLTE4VDEzOjA4OjAzWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMyIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiNiIsIlRyYW5zZmVyUXVhbnRpdHkiOiI5IiwiT25TT1F1YW50aXR5IjoiOSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjMiLCJQYWNrZWRRdWFudGl0eSI6IjMiLCJCbG9ja2VkUXVhbnRpdHkiOiI0IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjYiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIyIiwiU3RvY2tMZXZlbEluZCI6IkNIZlgiLCJQQVBRdWFudGl0eSI6IjgiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjgiLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI2IiwiTWF0ZXJpYWwiOiJOTW1EWCIsIlNlYXNvbiI6IktZYkxKT0RaQVYiLCJCcmFuZCI6Im9MeWFmIiwiU2l6ZSI6InpNSXVlQyIsIldpZHRoIjoidGtGcSIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTkwLTEwLTMxVDIwOjQzOjA3WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJZQ2RpIn1d"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"1923-12-05T17:13:46Z","EAN":"hZLvWz","Company":"UfJNs","DClocation":"RPjxqns","StockCategoryCode":"nKEgvVTN","AvailableQuantity":2,"OnPOOrderQuantity":9,"InTransitQuantity":7,"TransferQuantity":1,"OnSOQuantity":8,"OnDeliveryQuantity":4,"PackedQuantity":2,"BlockedQuantity":5,"ReservedQuantity":4,"InspectionQuantity":6,"StockLevelInd":"POJHCn","PAPQuantity":2,"PAPInTransitQuantity":1,"OpenOnSalesOrderQuantity":9,"Material":"bQwfpBkLY","Season":"ECccBIL","Brand":"pySReR","Size":"RkmgJFpweI","Width":"SSbtvA","JobDateTimeStamp":"1907-07-09T10:28:16Z","BatchJobStepName":"IdqRsoI","DocType":""},{"StockDate":"2015-02-18T13:08:03Z","EAN":"HpRze","Company":"FSfYqex","DClocation":"llbFvSVvEA","StockCategoryCode":"BxOLNwJn","AvailableQuantity":3,"OnPOOrderQuantity":6,"InTransitQuantity":6,"TransferQuantity":9,"OnSOQuantity":9,"OnDeliveryQuantity":3,"PackedQuantity":3,"BlockedQuantity":4,"ReservedQuantity":6,"InspectionQuantity":2,"StockLevelInd":"CHfX","PAPQuantity":8,"PAPInTransitQuantity":8,"OpenOnSalesOrderQuantity":6,"Material":"NMmDX","Season":"KYbLJODZAV","Brand":"oLyaf","Size":"zMIueC","Width":"tkFq","JobDateTimeStamp":"1990-10-31T20:43:07Z","BatchJobStepName":"YCdi","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_2","reference":"ref_2","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoiRkNlQiIsIkRDbG9jYXRpb24iOiJ5bndkWCIsIkVBTiI6IlZGaVZxWmRmIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJQd0RuIiwiU3RvY2tEYXRlIjoiMTk0Mi0xMS0xMlQxNTo0Njo0NVoiLCJBdmFpbGFibGVRdWFudGl0eSI6IjYiLCJPblBPT3JkZXJRdWFudGl0eSI6IjgiLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiNiIsIk9uU09RdWFudGl0eSI6IjEiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI2IiwiUGFja2VkUXVhbnRpdHkiOiI0IiwiQmxvY2tlZFF1YW50aXR5IjoiOSIsIlJlc2VydmVkUXVhbnRpdHkiOiI3IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiMTAiLCJTdG9ja0xldmVsSW5kIjoiQXFRa1ZPa3RQIiwiUEFQUXVhbnRpdHkiOiIzIiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI5IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiMyIsIk1hdGVyaWFsIjoic2N1enNwV3ciLCJTZWFzb24iOiJMV2dyUiIsIkJyYW5kIjoiU3dkUkVXWSIsIlNpemUiOiJ2bVNLZXciLCJXaWR0aCI6InhST3MiLCJKb2JEYXRlVGltZVN0YW1wIjoiMTk5Mi0wMi0wOVQwNDozNzo1NFoiLCJCYXRjaEpvYlN0ZXBOYW1lIjoiS1dacUdNbGF5RSJ9LHsiQ29tcGFueSI6IndzcW5pUCIsIkRDbG9jYXRpb24iOiJwb0NVYkNld00iLCJFQU4iOiJOT3ZDZnRPbVNyIiwiU3RvY2tDYXRlZ29yeUNvZGUiOiJNU2N1SG1FaENHIiwiU3RvY2tEYXRlIjoiMTkyOS0wNi0wNVQxMTozMToxNloiLCJBdmFpbGFibGVRdWFudGl0eSI6IjgiLCJPblBPT3JkZXJRdWFudGl0eSI6IjkiLCJJblRyYW5zaXRRdWFudGl0eSI6IjgiLCJUcmFuc2ZlclF1YW50aXR5IjoiNyIsIk9uU09RdWFudGl0eSI6IjciLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI3IiwiUGFja2VkUXVhbnRpdHkiOiIxIiwiQmxvY2tlZFF1YW50aXR5IjoiMiIsIlJlc2VydmVkUXVhbnRpdHkiOiI3IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiNCIsIlN0b2NrTGV2ZWxJbmQiOiJJY3JBIiwiUEFQUXVhbnRpdHkiOiI4IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiI2IiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNCIsIk1hdGVyaWFsIjoidVZaWndYZmpmIiwiU2Vhc29uIjoid2tmU1ZGdmZjIiwiQnJhbmQiOiJHdFhIb2NFIiwiU2l6ZSI6IkJmTVdLeEJVIiwiV2lkdGgiOiJldmNLUCIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTQ4LTA4LTA2VDAyOjU2OjQ0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJsSnZQdkpxak0ifV19"],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
      - '{"id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","metadata":{"last_updated":"2021-11-22T03:04:05Z","last_update_event_occurred":"2021-11-22T03:04:05Z","last_update_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31","created":"2021-11-22T03:04:05Z","created_event_id":"5de1ea04-61c9-4cf8-bdf8-320479e62d31"},"event":{"event_name":"CreateWarehouseStock","event_category":"warehouseStock","id":"msg_3","reference":"ref_3","event_occurred_time":"2021-11-22T03:04:05Z","event_received_time":"2021-11-22T03:04:05Z","event_processed_time":"2021-11-22
        03:04:05 +0000 UTC"},"raw_data_event":["eyJUZXN0IjpbeyJDb21wYW55IjoicVZiQ00iLCJEQ2xvY2F0aW9uIjoieVRXY3NhR0ZrZiIsIkVBTiI6Inlnc3IiLCJTdG9ja0NhdGVnb3J5Q29kZSI6IkxwQW9zTkYiLCJTdG9ja0RhdGUiOiIxOTAzLTA3LTAzVDIwOjQyOjUxWiIsIkF2YWlsYWJsZVF1YW50aXR5IjoiMiIsIk9uUE9PcmRlclF1YW50aXR5IjoiNiIsIkluVHJhbnNpdFF1YW50aXR5IjoiNyIsIlRyYW5zZmVyUXVhbnRpdHkiOiI0IiwiT25TT1F1YW50aXR5IjoiMSIsIk9uRGVsaXZlcnlRdWFudGl0eSI6IjIiLCJQYWNrZWRRdWFudGl0eSI6IjQiLCJCbG9ja2VkUXVhbnRpdHkiOiI5IiwiUmVzZXJ2ZWRRdWFudGl0eSI6IjkiLCJJbnNwZWN0aW9uUXVhbnRpdHkiOiIzIiwiU3RvY2tMZXZlbEluZCI6IkZIRHZJWUsiLCJQQVBRdWFudGl0eSI6IjIiLCJQQVBJblRyYW5zaXRRdWFudGl0eSI6IjciLCJPcGVuT25TYWxlc09yZGVyUXVhbnRpdHkiOiI2IiwiTWF0ZXJpYWwiOiJ1THN6blBTQm1CIiwiU2Vhc29uIjoicm52eWtyIiwiQnJhbmQiOiJFUWVPSk4iLCJTaXplIjoibVdSU2oiLCJXaWR0aCI6InZtd0pjcyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTU2LTA3LTI5VDA4OjExOjE0WiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJjY09heCJ9LHsiQ29tcGFueSI6Ik5Fd05hcW9FWEkiLCJEQ2xvY2F0aW9uIjoiUVl1dkdWdSIsIkVBTiI6InNmSFNITWh3WSIsIlN0b2NrQ2F0ZWdvcnlDb2RlIjoiYXhSTndHa2lIIiwiU3RvY2tEYXRlIjoiMjAwMi0wNC0yMFQxNToyNToxN1oiLCJBdmFpbGFibGVRdWFudGl0eSI6IjIiLCJPblBPT3JkZXJRdWFudGl0eSI6IjciLCJJblRyYW5zaXRRdWFudGl0eSI6IjUiLCJUcmFuc2ZlclF1YW50aXR5IjoiOSIsIk9uU09RdWFudGl0eSI6IjQiLCJPbkRlbGl2ZXJ5UXVhbnRpdHkiOiI1IiwiUGFja2VkUXVhbnRpdHkiOiI2IiwiQmxvY2tlZFF1YW50aXR5IjoiMyIsIlJlc2VydmVkUXVhbnRpdHkiOiI5IiwiSW5zcGVjdGlvblF1YW50aXR5IjoiOSIsIlN0b2NrTGV2ZWxJbmQiOiJVaE5FRXFRIiwiUEFQUXVhbnRpdHkiOiI4IiwiUEFQSW5UcmFuc2l0UXVhbnRpdHkiOiIyIiwiT3Blbk9uU2FsZXNPcmRlclF1YW50aXR5IjoiNiIsIk1hdGVyaWFsIjoiRHN6QXJieiIsIlNlYXNvbiI6IkVFa1hXcCIsIkJyYW5kIjoieHp0anNneiIsIlNpemUiOiJCZldTWWxtUSIsIldpZHRoIjoib1ltc2dyY3JDZyIsIkpvYkRhdGVUaW1lU3RhbXAiOiIxOTk1LTExLTIzVDE4OjM1OjUwWiIsIkJhdGNoSm9iU3RlcE5hbWUiOiJhSUNsIn1dfQ=="],"pt":"2021-11-22T03:04:05Z","base_warehouse":"Zale144","warehouseStock":[{"StockDate":"0001-01-01T00:00:00Z","EAN":"","Company":"","DClocation":"","StockCategoryCode":"","AvailableQuantity":0,"OnPOOrderQuantity":0,"InTransitQuantity":0,"TransferQuantity":0,"OnSOQuantity":0,"OnDeliveryQuantity":0,"PackedQuantity":0,"BlockedQuantity":0,"ReservedQuantity":0,"InspectionQuantity":0,"StockLevelInd":"","PAPQuantity":0,"PAPInTransitQuantity":0,"OpenOnSalesOrderQuantity":0,"Material":"","Season":"","Brand":"","Size":"","Width":"","JobDateTimeStamp":"0001-01-01T00:00:00Z","BatchJobStepName":"","DocType":""}]}'
  - name: Republisher
  - name: Acker
    calls:
    - method: AckMessages
      expect_inputs:
      - '{"id":"msg_1","reference":"ref_1"}'
      - '{"id":"msg_2","reference":"ref_2"}'
      - '{"id":"msg_3","reference":"ref_3"}'
